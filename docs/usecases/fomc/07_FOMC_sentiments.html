
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Predicting Sentiments of FOMC Corpus &#8212; eKorpkit Tutorials</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/ekorpkit.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="EDA on Sentiment Data" href="08_FOMC_EDA_sentiments.html" />
    <link rel="prev" title="Checking Baseline with AutoML" href="06_FOMC_AutoML.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-FN4GFT8HP8"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-FN4GFT8HP8');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/ekorpkit.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">eKorpkit Tutorials</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../intro.html">
                    eKonomic Research Python Toolkit
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Basics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../basics/index.html">
   Getting started
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/install.html">
     Installation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/usage.html">
     Usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../basics/features/index.html">
   Key features
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/features/easy_config.html">
     Easy Configuration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/features/no_boiler.html">
     No Boilerplate
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/features/workflows.html">
     Workflows
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/features/share.html">
     Sharable and Reproducible
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/features/plug.html">
     Pluggable Architece
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../tutorials/config/index.html">
   Configuring ekorpkit
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/config/eKonf.html">
     Using eKonf class
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../tutorials/datasets/index.html">
   Datasets
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/corpora/corpus.html">
     Build and Load Corpora
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/datasets/dataset.html">
     Build and Load Datasets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/corpora/pipeline.html">
     Corpus task pipelines
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../tutorials/models/index.html">
   Models
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/models/automl/index.html">
     Auto ML
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../tutorials/models/embeddings/index.html">
     Word Embeddings
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/embeddings/word2vec_basics.html">
       Word2Vec Basics
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/embeddings/eval_vectors.html">
       Evaluate pretrained embeddings
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../tutorials/models/ngram/index.html">
     N-Grams
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/ngram/ngram.html">
       N-Grams
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/ngram/ngram_for_lexicons.html">
       N-Gram model for ngram lexicon features
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/ngram/ngram_for_words.html">
       N-Gram model for unigram lexicon features
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../tutorials/models/sentiment/index.html">
     Sentiment Analyers
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/sentiment/lbsa_en.html">
       Lexicon-based Sentiment Analysis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/sentiment/financial_phrasebank_lm.html">
       Evaluate LM with financial phrasebank
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/sentiment/sentiment.html">
       LM Dictionary vs. finbert vs. T5
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/models/transformers/index.html">
     Transformers
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../tutorials/pipelines/index.html">
   Pipelines
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/pipelines/pipeline.html">
     Instantiating pipeline
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../tutorials/preprocessors/index.html">
   Preprocessors
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../tutorials/preprocessors/normalizer/index.html">
     Normalizers
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/preprocessors/normalizer/normalizer.html">
       Normalizers
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../tutorials/preprocessors/segmenter/index.html">
     Segmenters
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/preprocessors/segmenter/segmenter.html">
       Segmenters
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../tutorials/preprocessors/tokenizer/index.html">
     Tokenizers
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/preprocessors/tokenizer/mecab.html">
       Mecab Tokenizer
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../tutorials/visualizers/index.html">
   Visualizers
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/visualizers/plot.html">
     Plots
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../tutorials/workflow/index.html">
   Workflows
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Datasets
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../corpus/ekorpkot_corpus.html">
   The eKorpkit Corpus
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Use Cases
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   FOMC
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="02_FOMC_numerical_data.html">
     Preparing Numerical Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_FOMC_corpus.html">
     Preparing Textual Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04_FOMC_EDA_numericals.html">
     EDA on Numerical Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="05_FOMC_features.html">
     Visualizing Features
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06_FOMC_AutoML.html">
     Checking Baseline with AutoML
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Predicting Sentiments of FOMC Corpus
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08_FOMC_EDA_sentiments.html">
     EDA on Sentiment Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09_FOMC_AutoML_with_tones.html">
     Predicting the next decisions with tones
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../bok/index.html">
   Bank of Korea
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../edgar/index.html">
   EDGAR
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../edgar/predict_edgar.html">
     Prediciting Sentiments
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../esg/index.html">
   ESG
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
  <label for="toctree-checkbox-17">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../esg/snorkel-polarity.html">
     Preparing polarity classification datasets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../esg/rubrix.html">
     Improving classification datasets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../esg/classifiers.html">
     Training Classifiers for ESG Ratings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../esg/econ_news_corpus.html">
     Building
     <code class="docutils literal notranslate">
      <span class="pre">
       econ_news_kr
      </span>
     </code>
     corpus
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../esg/predict_news.html">
     Predicting ESG Categories and Polarities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../esg/rubrix_classifiers.html">
     Preparing classifiers for active learning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../esg/predict_for_learning.html">
     Preparing active learning data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../esg-en/index.html">
   ESG (English)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
  <label for="toctree-checkbox-18">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../esg-en/esg_corpus.html">
     Building
     <code class="docutils literal notranslate">
      <span class="pre">
       JOCo
      </span>
     </code>
     corpus
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../cointax/index.html">
   Taxation on Cryptocurrency
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
  <label for="toctree-checkbox-19">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../cointax/coin_dataset.html">
     Improving classification datasets
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Research
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../research/esg_topics/analyst.html">
   ESG Topic Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../research/esg_topics/rethink_esg.html">
   Rethinking ESG
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Lectures
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lectures/intro_nlp/index.html">
   Introduction to NLP
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
  <label for="toctree-checkbox-20">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/intro.html">
     Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/ekorpkit.html">
     Getting started with ekorpkit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/research.html">
     Research Applications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/topic.html">
     Topic Modeling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/topic_models.html">
     Topic Models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/topic_coherence.html">
     Topic Coherence Measures
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/sentiments.html">
     Sentiment Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/tokenization.html">
     Tokenization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/word_segmentation.html">
     Word Segmentation and Association
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/vectorization.html">
     Vector Semantics and Representation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/word_embeddings.html">
     Word Embeddings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/language_models.html">
     Language Models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/lab1-corpus.html">
     Lab 1: Preparing Wikipedia Corpora
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/intro_nlp/lab2-corpus-eda.html">
     Lab 2: EDA on Corpora
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lectures/deep_nlp/index.html">
   Deep Learning for NLP
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
  <label for="toctree-checkbox-21">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/intro.html">
     Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/ekorpkit.html">
     Getting started with ekorpkit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/zeroshot.html">
     Zero Shot, Prompt, and Search Strategies
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/bloom.html">
     What is BLOOM?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/bloom_apps.html">
     Bloom Examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/transformers.html">
     Transformers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/bert.html">
     BERT: Bidirectional Encoder Representations from Transformers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/t5.html">
     T5: Text-To-Text Transfer Transformer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/tokenization.html">
     Tokenization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/sentencepiece.html">
     SentencePiece Tokenizer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/byt5.html">
     ByT5: Towards a token-free future with pre-trained byte-to-byte models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/lab1-corpus.html">
     Lab 1: Preparing Wikipedia Corpora
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/lab2-corpus-eda.html">
     Lab 2: EDA on Corpora
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/deep_nlp/lab3-train-tokenizers.html">
     Lab 3: Training Tokenizers
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../lectures/aiart/index.html">
   AI Art (Text-to-Image)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/>
  <label for="toctree-checkbox-22">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/intro.html">
     Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/project-themes.html">
     Project Themes - A Brave New World
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/dalle1.html">
     DALL·E 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/dalle2.html">
     DALL·E 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/imagen.html">
     Imagen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/dalle-mini.html">
     DALL·E Mini
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/disco.html">
     Disco Diffusion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/disco_batch.html">
     Disco Diffusion Batch Generation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/stable-diffusion.html">
     Stable Diffusion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/prompt-generator.html">
     Prompt Generator for Stable Diffusion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/textual-inversion.html">
     Textual Inversion (Dreambooth)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/whisper.html">
     Automatic Speech Recognition (Whisper)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/text2music.html">
     Text to Music
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../lectures/aiart/image2music.html">
     Image to Music
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../lectures/mlops/index.html">
   Machine Learning Systems Design
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../lectures/ds/index.html">
   Data Science for Economics and Finance
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/index.html">
   Bibliography
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/cite.html">
   Citation
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/entelecheia/ekorpkit-book/main?urlpath=tree/ekorpkit-book/docs/usecases/fomc/07_FOMC_sentiments.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/entelecheia/ekorpkit-book/blob/main/ekorpkit-book/docs/usecases/fomc/07_FOMC_sentiments.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/entelecheia/ekorpkit-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/entelecheia/ekorpkit-book/issues/new?title=Issue%20on%20page%20%2Fdocs/usecases/fomc/07_FOMC_sentiments.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/docs/usecases/fomc/07_FOMC_sentiments.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predict-sentiments-with-the-lm-sentiment-analyser">
   Predict sentiments with the LM sentiment analyser
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#load-fomc-corpus">
     Load FOMC Corpus
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#predict-sentiments-of-sentences">
     Predict sentiments of sentences
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggregate-sentiment-scores">
     Aggregate sentiment scores
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predict-sentiments-and-aggregate-scores-with-a-pipeline">
   Predict sentiments and aggregate scores with a pipeline
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predict-sentiments-with-the-finbert">
   Predict sentiments with the finbert
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predict-sentiments-with-the-t5">
   Predict sentiments with the T5
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Predicting Sentiments of FOMC Corpus</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predict-sentiments-with-the-lm-sentiment-analyser">
   Predict sentiments with the LM sentiment analyser
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#load-fomc-corpus">
     Load FOMC Corpus
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#predict-sentiments-of-sentences">
     Predict sentiments of sentences
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aggregate-sentiment-scores">
     Aggregate sentiment scores
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predict-sentiments-and-aggregate-scores-with-a-pipeline">
   Predict sentiments and aggregate scores with a pipeline
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predict-sentiments-with-the-finbert">
   Predict sentiments with the finbert
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predict-sentiments-with-the-t5">
   Predict sentiments with the T5
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="predicting-sentiments-of-fomc-corpus">
<h1>Predicting Sentiments of FOMC Corpus<a class="headerlink" href="#predicting-sentiments-of-fomc-corpus" title="Permalink to this headline">#</a></h1>
<p>Analyse statement by Loughran and McDonald dictionary, finbert, and T5 model</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">config</span> InlineBackend.figure_format=&#39;retina&#39;
<span class="kn">from</span> <span class="nn">ekorpkit</span> <span class="kn">import</span> <span class="n">eKonf</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;version:&quot;</span><span class="p">,</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is notebook?&quot;</span><span class="p">,</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">is_notebook</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is colab?&quot;</span><span class="p">,</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">is_colab</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;evironment varialbles:&quot;</span><span class="p">)</span>
<span class="n">eKonf</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">eKonf</span><span class="o">.</span><span class="n">env</span><span class="p">()</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>version: 0.1.33+28.g90d1dea
is notebook? True
is colab? False
evironment varialbles:
{&#39;EKORPKIT_CONFIG_DIR&#39;: &#39;/workspace/projects/ekorpkit-book/config&#39;,
 &#39;EKORPKIT_DATA_DIR&#39;: None,
 &#39;EKORPKIT_PROJECT&#39;: &#39;ekorpkit-book&#39;,
 &#39;EKORPKIT_WORKSPACE_ROOT&#39;: &#39;/workspace&#39;,
 &#39;NUM_WORKERS&#39;: 230}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">start_year</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="n">data_dir</span> <span class="o">=</span> <span class="s2">&quot;../data/fomc&quot;</span>
<span class="n">eKonf</span><span class="o">.</span><span class="n">env</span><span class="p">()</span><span class="o">.</span><span class="n">FRED_API_KEY</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pydantic.types.SecretStr
</pre></div>
</div>
</div>
</div>
<section id="predict-sentiments-with-the-lm-sentiment-analyser">
<h2>Predict sentiments with the LM sentiment analyser<a class="headerlink" href="#predict-sentiments-with-the-lm-sentiment-analyser" title="Permalink to this headline">#</a></h2>
<section id="load-fomc-corpus">
<h3>Load FOMC Corpus<a class="headerlink" href="#load-fomc-corpus" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fomc_sents</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="s2">&quot;fomc_sents.parquet&quot;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
<span class="n">fomc_sents</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>text</th>
      <th>split</th>
      <th>timestamp</th>
      <th>content_type</th>
      <th>date</th>
      <th>speaker</th>
      <th>title</th>
      <th>decision</th>
      <th>rate</th>
      <th>recent_meeting</th>
      <th>recent_decision</th>
      <th>recent_rate</th>
      <th>next_meeting</th>
      <th>next_decision</th>
      <th>next_rate</th>
      <th>text_num_words</th>
      <th>section_id</th>
      <th>sent_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>653463</th>
      <td>2854</td>
      <td>It will not have the word “somewhat” on line 3.</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>MR. LUECKE</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>2014-12-17</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>10</td>
      <td>287</td>
      <td>2</td>
    </tr>
    <tr>
      <th>653464</th>
      <td>2854</td>
      <td>Chair Yellen      Yes Vice Chairman Dudley    ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>MR. LUECKE</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>2014-12-17</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>31</td>
      <td>287</td>
      <td>4</td>
    </tr>
    <tr>
      <th>653465</th>
      <td>2854</td>
      <td>And let me confirm that the next meeting will ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>2014-12-17</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>19</td>
      <td>288</td>
      <td>3</td>
    </tr>
    <tr>
      <th>653466</th>
      <td>2854</td>
      <td>I believe box lunches are now available for pe...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>2014-12-17</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>33</td>
      <td>288</td>
      <td>4</td>
    </tr>
    <tr>
      <th>653467</th>
      <td>2854</td>
      <td>I will do my best, and I will consider at the ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>2014-12-17</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>18</td>
      <td>288</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="predict-sentiments-of-sentences">
<h3>Predict sentiments of sentences<a class="headerlink" href="#predict-sentiments-of-sentences" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="s1">&#39;model/sentiment=lm&#39;</span><span class="p">)</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">num_workers</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">lmsa</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">model_cfg</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">article</span> <span class="o">=</span> <span class="n">fomc_sents</span><span class="o">.</span><span class="n">text</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
<span class="n">lmsa</span><span class="o">.</span><span class="n">predict_sentence</span><span class="p">(</span><span class="n">article</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;num_tokens&#39;: 156,
 &#39;polarity&#39;: -0.9999990000010001,
 &#39;polarity_label&#39;: &#39;negative&#39;,
 &#39;uncertainty&#39;: 1e-06}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fomc_sent_sentiments</span> <span class="o">=</span> <span class="n">lmsa</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">fomc_sents</span><span class="p">)</span>
<span class="n">eKonf</span><span class="o">.</span><span class="n">save_data</span><span class="p">(</span><span class="n">fomc_sent_sentiments</span><span class="p">,</span> <span class="s2">&quot;fomc_sent_sentiments.parquet&quot;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.models.sentiment.lbsa:Predicting sentiments of the column [text] using predict_sentence
INFO:ekorpkit.base:Using batcher with minibatch size: 1000
INFO:ekorpkit.utils.batch.batcher: backend: joblib  minibatch_size: 1000  procs: 100  input_split: False  merge_output: True  len(data): 653468 len(args): 5
Predicting [text]: 100%|██████████| 654/654 [02:50&lt;00:00,  3.83it/s]
INFO:ekorpkit.models.sentiment.lbsa: &gt;&gt; elapsed time to predict: 0:02:51.902053
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>text</th>
      <th>split</th>
      <th>timestamp</th>
      <th>content_type</th>
      <th>date</th>
      <th>speaker</th>
      <th>title</th>
      <th>decision</th>
      <th>rate</th>
      <th>...</th>
      <th>next_meeting</th>
      <th>next_decision</th>
      <th>next_rate</th>
      <th>text_num_words</th>
      <th>section_id</th>
      <th>sent_id</th>
      <th>num_tokens</th>
      <th>polarity</th>
      <th>polarity_label</th>
      <th>uncertainty</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>The Secretary reported that advices of the ele...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>47</td>
      <td>29</td>
      <td>0</td>
      <td>52</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>By unanimous vote, the Committee elected the f...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>73</td>
      <td>35</td>
      <td>0</td>
      <td>78</td>
      <td>-1.000000</td>
      <td>negative</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>By unanimous vote, William J. McDonough, Marga...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>74</td>
      <td>37</td>
      <td>0</td>
      <td>83</td>
      <td>1.000000</td>
      <td>positive</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>On January 15, 1993, the continuing rules, reg...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>59</td>
      <td>39</td>
      <td>0</td>
      <td>68</td>
      <td>-0.333333</td>
      <td>negative</td>
      <td>0.014707</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>Members were asked to indicate if they wished ...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>25</td>
      <td>39</td>
      <td>1</td>
      <td>26</td>
      <td>-0.999999</td>
      <td>negative</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>653463</th>
      <td>2854</td>
      <td>It will not have the word “somewhat” on line 3.</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>MR. LUECKE</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>10</td>
      <td>287</td>
      <td>2</td>
      <td>13</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.076924</td>
    </tr>
    <tr>
      <th>653464</th>
      <td>2854</td>
      <td>Chair Yellen      Yes Vice Chairman Dudley    ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>MR. LUECKE</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>31</td>
      <td>287</td>
      <td>4</td>
      <td>31</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>653465</th>
      <td>2854</td>
      <td>And let me confirm that the next meeting will ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>19</td>
      <td>288</td>
      <td>3</td>
      <td>21</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>653466</th>
      <td>2854</td>
      <td>I believe box lunches are now available for pe...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>33</td>
      <td>288</td>
      <td>4</td>
      <td>39</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.025642</td>
    </tr>
    <tr>
      <th>653467</th>
      <td>2854</td>
      <td>I will do my best, and I will consider at the ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>18</td>
      <td>288</td>
      <td>5</td>
      <td>22</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.000001</td>
    </tr>
  </tbody>
</table>
<p>653468 rows × 23 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fomc_sent_sentiments</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="s2">&quot;fomc_sent_sentiments.parquet&quot;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
<span class="n">fomc_sent_sentiments</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>text</th>
      <th>split</th>
      <th>timestamp</th>
      <th>content_type</th>
      <th>date</th>
      <th>speaker</th>
      <th>title</th>
      <th>decision</th>
      <th>rate</th>
      <th>...</th>
      <th>next_meeting</th>
      <th>next_decision</th>
      <th>next_rate</th>
      <th>text_num_words</th>
      <th>section_id</th>
      <th>sent_id</th>
      <th>num_tokens</th>
      <th>polarity</th>
      <th>polarity_label</th>
      <th>uncertainty</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>The Secretary reported that advices of the ele...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>47</td>
      <td>29</td>
      <td>0</td>
      <td>52</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>By unanimous vote, the Committee elected the f...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>73</td>
      <td>35</td>
      <td>0</td>
      <td>78</td>
      <td>-1.000000</td>
      <td>negative</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>By unanimous vote, William J. McDonough, Marga...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>74</td>
      <td>37</td>
      <td>0</td>
      <td>83</td>
      <td>1.000000</td>
      <td>positive</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>On January 15, 1993, the continuing rules, reg...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>59</td>
      <td>39</td>
      <td>0</td>
      <td>68</td>
      <td>-0.333333</td>
      <td>negative</td>
      <td>0.014707</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>Members were asked to indicate if they wished ...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>25</td>
      <td>39</td>
      <td>1</td>
      <td>26</td>
      <td>-0.999999</td>
      <td>negative</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>653463</th>
      <td>2854</td>
      <td>It will not have the word “somewhat” on line 3.</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>MR. LUECKE</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>10</td>
      <td>287</td>
      <td>2</td>
      <td>13</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.076924</td>
    </tr>
    <tr>
      <th>653464</th>
      <td>2854</td>
      <td>Chair Yellen      Yes Vice Chairman Dudley    ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>MR. LUECKE</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>31</td>
      <td>287</td>
      <td>4</td>
      <td>31</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>653465</th>
      <td>2854</td>
      <td>And let me confirm that the next meeting will ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>19</td>
      <td>288</td>
      <td>3</td>
      <td>21</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.000001</td>
    </tr>
    <tr>
      <th>653466</th>
      <td>2854</td>
      <td>I believe box lunches are now available for pe...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>33</td>
      <td>288</td>
      <td>4</td>
      <td>39</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.025642</td>
    </tr>
    <tr>
      <th>653467</th>
      <td>2854</td>
      <td>I will do my best, and I will consider at the ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>18</td>
      <td>288</td>
      <td>5</td>
      <td>22</td>
      <td>0.000000</td>
      <td>neutral</td>
      <td>0.000001</td>
    </tr>
  </tbody>
</table>
<p>653468 rows × 23 columns</p>
</div></div></div>
</div>
</section>
<section id="aggregate-sentiment-scores">
<h3>Aggregate sentiment scores<a class="headerlink" href="#aggregate-sentiment-scores" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fomc_tones_lm</span> <span class="o">=</span> <span class="n">lmsa</span><span class="o">.</span><span class="n">aggregate_scores</span><span class="p">(</span><span class="n">fomc_sent_sentiments</span><span class="p">,</span> <span class="n">groupby</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;content_type&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="n">fomc_tones_lm</span><span class="o">.</span><span class="n">content_type</span> <span class="o">=</span> <span class="n">fomc_tones_lm</span><span class="o">.</span><span class="n">content_type</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;fomc_&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">eKonf</span><span class="o">.</span><span class="n">save_data</span><span class="p">(</span><span class="n">fomc_tones_lm</span><span class="p">,</span> <span class="s1">&#39;fomc_tones_lm.parquet&#39;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fomc_tones_lm</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="s1">&#39;fomc_tones_lm.parquet&#39;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
<span class="n">fomc_tones_lm</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>content_type</th>
      <th>date</th>
      <th>polarity_mean</th>
      <th>polarity_diffusion</th>
      <th>positive</th>
      <th>negative</th>
      <th>num_tokens_sum</th>
      <th>num_tokens_mean</th>
      <th>num_tokens_median</th>
      <th>num_examples</th>
      <th>polarity_mean_label</th>
      <th>polarity_diffusion_label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>beigebook</td>
      <td>2021-01-13</td>
      <td>-0.068247</td>
      <td>-0.071053</td>
      <td>3972</td>
      <td>5229</td>
      <td>397855</td>
      <td>22.489119</td>
      <td>21.0</td>
      <td>17691</td>
      <td>neutral</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>1</th>
      <td>beigebook</td>
      <td>2021-03-03</td>
      <td>-0.032683</td>
      <td>-0.037384</td>
      <td>3887</td>
      <td>4518</td>
      <td>381300</td>
      <td>22.590201</td>
      <td>21.0</td>
      <td>16879</td>
      <td>neutral</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>2</th>
      <td>beigebook</td>
      <td>2021-04-14</td>
      <td>-0.030535</td>
      <td>-0.035085</td>
      <td>3568</td>
      <td>4100</td>
      <td>340121</td>
      <td>22.430983</td>
      <td>21.0</td>
      <td>15163</td>
      <td>neutral</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>3</th>
      <td>beigebook</td>
      <td>2021-06-02</td>
      <td>-0.039873</td>
      <td>-0.044760</td>
      <td>3837</td>
      <td>4561</td>
      <td>357745</td>
      <td>22.117156</td>
      <td>21.0</td>
      <td>16175</td>
      <td>neutral</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>4</th>
      <td>beigebook</td>
      <td>2021-07-14</td>
      <td>0.011743</td>
      <td>0.012195</td>
      <td>191</td>
      <td>182</td>
      <td>15803</td>
      <td>21.413279</td>
      <td>21.0</td>
      <td>738</td>
      <td>neutral</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2390</th>
      <td>testimony</td>
      <td>2021-05-19</td>
      <td>-0.171642</td>
      <td>-0.164179</td>
      <td>15</td>
      <td>26</td>
      <td>2590</td>
      <td>38.656716</td>
      <td>29.0</td>
      <td>67</td>
      <td>negative</td>
      <td>negative</td>
    </tr>
    <tr>
      <th>2391</th>
      <td>testimony</td>
      <td>2021-06-22</td>
      <td>0.220126</td>
      <td>0.207547</td>
      <td>20</td>
      <td>9</td>
      <td>1456</td>
      <td>27.471698</td>
      <td>24.0</td>
      <td>53</td>
      <td>positive</td>
      <td>positive</td>
    </tr>
    <tr>
      <th>2392</th>
      <td>testimony</td>
      <td>2021-07-14</td>
      <td>0.259259</td>
      <td>0.305556</td>
      <td>14</td>
      <td>3</td>
      <td>1066</td>
      <td>29.611111</td>
      <td>27.0</td>
      <td>36</td>
      <td>positive</td>
      <td>positive</td>
    </tr>
    <tr>
      <th>2393</th>
      <td>testimony</td>
      <td>2021-09-28</td>
      <td>0.031746</td>
      <td>0.000000</td>
      <td>9</td>
      <td>9</td>
      <td>1026</td>
      <td>24.428571</td>
      <td>22.0</td>
      <td>42</td>
      <td>neutral</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>2394</th>
      <td>testimony</td>
      <td>2021-11-30</td>
      <td>-0.120000</td>
      <td>-0.200000</td>
      <td>3</td>
      <td>7</td>
      <td>556</td>
      <td>27.800000</td>
      <td>26.0</td>
      <td>20</td>
      <td>neutral</td>
      <td>negative</td>
    </tr>
  </tbody>
</table>
<p>2395 rows × 12 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="s1">&#39;pipeline/pivot&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;content_type&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;polarity_mean&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_diffusion&#39;</span><span class="p">,</span> <span class="s1">&#39;num_examples&#39;</span><span class="p">,</span> <span class="s1">&#39;num_tokens_sum&#39;</span><span class="p">,</span> <span class="s1">&#39;num_tokens_mean&#39;</span><span class="p">]</span>
<span class="n">tone_data_lm</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">fomc_tones_lm</span><span class="p">,</span> <span class="n">cfg</span><span class="p">)</span>
<span class="n">tone_data_lm</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">tone_data_lm</span><span class="p">,</span> <span class="n">_columns</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">tone_data_lm</span> <span class="o">=</span> <span class="n">tone_data_lm</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">eKonf</span><span class="o">.</span><span class="n">save_data</span><span class="p">(</span><span class="n">tone_data_lm</span><span class="p">,</span> <span class="s1">&#39;fomc_tone_data_lm.parquet&#39;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tone_data_lm</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="s1">&#39;fomc_tone_data_lm.parquet&#39;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
<span class="n">tone_data_lm</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>polarity_mean_beigebook</th>
      <th>polarity_mean_meeting_script</th>
      <th>polarity_mean_minutes</th>
      <th>polarity_mean_press_conf</th>
      <th>polarity_mean_speech</th>
      <th>polarity_mean_statement</th>
      <th>polarity_mean_testimony</th>
      <th>polarity_diffusion_beigebook</th>
      <th>polarity_diffusion_meeting_script</th>
      <th>polarity_diffusion_minutes</th>
      <th>...</th>
      <th>num_tokens_sum_speech</th>
      <th>num_tokens_sum_statement</th>
      <th>num_tokens_sum_testimony</th>
      <th>num_tokens_mean_beigebook</th>
      <th>num_tokens_mean_meeting_script</th>
      <th>num_tokens_mean_minutes</th>
      <th>num_tokens_mean_press_conf</th>
      <th>num_tokens_mean_speech</th>
      <th>num_tokens_mean_statement</th>
      <th>num_tokens_mean_testimony</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1990-02-07</th>
      <td>NaN</td>
      <td>-0.087583</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.095663</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>30.213010</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-03-27</th>
      <td>NaN</td>
      <td>-0.171992</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.179702</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>29.846369</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-05-15</th>
      <td>NaN</td>
      <td>-0.116052</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.125461</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>29.749077</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-07-03</th>
      <td>NaN</td>
      <td>-0.114829</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.117794</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>29.667920</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-08-21</th>
      <td>NaN</td>
      <td>-0.209552</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.219403</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>31.032836</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2021-11-30</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.167014</td>
      <td>NaN</td>
      <td>-0.12</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>3066.0</td>
      <td>NaN</td>
      <td>556.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>31.937500</td>
      <td>NaN</td>
      <td>27.8</td>
    </tr>
    <tr>
      <th>2021-12-01</th>
      <td>-0.046022</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.048109</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>22.539497</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2021-12-02</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.077381</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>6514.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>36.188889</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2021-12-15</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.043929</td>
      <td>-0.075441</td>
      <td>NaN</td>
      <td>0.166667</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.064286</td>
      <td>...</td>
      <td>NaN</td>
      <td>489.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>30.521429</td>
      <td>37.587413</td>
      <td>NaN</td>
      <td>27.166667</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2021-12-17</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.356613</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>3694.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>29.317460</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>1876 rows × 35 columns</p>
</div></div></div>
</div>
</section>
</section>
<section id="predict-sentiments-and-aggregate-scores-with-a-pipeline">
<h2>Predict sentiments and aggregate scores with a pipeline<a class="headerlink" href="#predict-sentiments-and-aggregate-scores-with-a-pipeline" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="s1">&#39;model/sentiment=lm&#39;</span><span class="p">)</span>

<span class="n">cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="s1">&#39;pipeline&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">_pipeline_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;predict&#39;</span><span class="p">,</span> <span class="s1">&#39;aggregate_scores&#39;</span><span class="p">,</span> <span class="s1">&#39;replace&#39;</span><span class="p">,</span> <span class="s1">&#39;pivot&#39;</span><span class="p">,</span> <span class="s1">&#39;save_dataframe&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">num_workers</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">data_file</span> <span class="o">=</span> <span class="s2">&quot;fomc_sents.parquet&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model_cfg</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">base_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;fomc_sent_sentiments.parquet&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">aggregate_scores</span><span class="o">.</span><span class="n">groupby</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;content_type&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">apply_to</span> <span class="o">=</span> <span class="s1">&#39;content_type&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">to_replace</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fomc_&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">regex</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;content_type&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;polarity_mean&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_diffusion&#39;</span><span class="p">,</span> <span class="s1">&#39;num_examples&#39;</span><span class="p">,</span> <span class="s1">&#39;num_tokens_sum&#39;</span><span class="p">,</span> <span class="s1">&#39;num_tokens_mean&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">save_dataframe</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">save_dataframe</span><span class="o">.</span><span class="n">output_file</span> <span class="o">=</span> <span class="s1">&#39;fomc_tone_data_lm.parquet&#39;</span>
<span class="n">tone_data_lm</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">tone_data_lm</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">tone_data_lm</span><span class="p">,</span> <span class="n">_columns</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">tone_data_lm</span> <span class="o">=</span> <span class="n">tone_data_lm</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">eKonf</span><span class="o">.</span><span class="n">save_data</span><span class="p">(</span><span class="n">tone_data_lm</span><span class="p">,</span> <span class="s1">&#39;fomc_tone_data_lm.parquet&#39;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.io.file:Processing [1] files from [&#39;fomc_sents.parquet&#39;]
INFO:ekorpkit.io.file:Loading 1 dataframes from [&#39;../data/fomc/fomc_sents.parquet&#39;]
INFO:ekorpkit.io.file:Loading data from ../data/fomc/fomc_sents.parquet
INFO:ekorpkit.pipelines.pipe:Applying pipeline: OrderedDict([(&#39;predict&#39;, &#39;predict&#39;), (&#39;aggregate_scores&#39;, &#39;aggregate_scores&#39;), (&#39;replace&#39;, &#39;replace&#39;), (&#39;pivot&#39;, &#39;pivot&#39;), (&#39;save_dataframe&#39;, &#39;save_dataframe&#39;)])
INFO:ekorpkit.base:Applying pipe: functools.partial(&lt;function predict at 0x7f0abf86c820&gt;)
INFO:ekorpkit.preprocessors.tokenizer:instantiating ekorpkit.preprocessors.stopwords.Stopwords...
INFO:ekorpkit.base:Calling load_candidates
INFO:ekorpkit.io.file:Processing [1] files from [&#39;/workspace/projects/ekorpkit/ekorpkit/resources/lexicons/LM.parquet&#39;]
INFO:ekorpkit.io.file:Loading 1 dataframes from [&#39;/workspace/projects/ekorpkit/ekorpkit/resources/lexicons/LM.parquet&#39;]
INFO:ekorpkit.io.file:Loading data from /workspace/projects/ekorpkit/ekorpkit/resources/lexicons/LM.parquet
INFO:ekorpkit.models.ngram.ngram:loaded 58142 candidates
INFO:ekorpkit.models.sentiment.lbsa:Predicting sentiments of the column [text] using predict_sentence
INFO:ekorpkit.base:Using batcher with minibatch size: 1000
INFO:ekorpkit.utils.batch.batcher: backend: joblib  minibatch_size: 1000  procs: 100  input_split: False  merge_output: True  len(data): 653468 len(args): 5
Predicting [text]: 100%|██████████| 654/654 [03:06&lt;00:00,  3.51it/s]
INFO:ekorpkit.models.sentiment.lbsa: &gt;&gt; elapsed time to predict: 0:03:07.279688
INFO:ekorpkit.pipelines.pipe:Saving data to: {&#39;file&#39;: None, &#39;filename&#39;: &#39;fomc_sent_sentiments.parquet&#39;, &#39;base_dir&#39;: &#39;../data/fomc&#39;, &#39;filetype&#39;: &#39;&#39;, &#39;columns&#39;: None, &#39;suffix&#39;: None, &#39;filepath&#39;: &#39;../data/fomc/fomc_sent_sentiments.parquet&#39;}
INFO:ekorpkit.io.file:Saving dataframe to ../data/fomc/fomc_sent_sentiments.parquet
INFO:ekorpkit.base:Applying pipe: functools.partial(&lt;function aggregate_scores at 0x7f0abf86c8b0&gt;)
INFO:ekorpkit.base:instantiating ekorpkit.models.sentiment.base.BaseSentimentAnalyser...
INFO:ekorpkit.pipelines.pipe:filename not specified
INFO:ekorpkit.base:Applying pipe: functools.partial(&lt;function general_function at 0x7f0abf86cc10&gt;)
INFO:ekorpkit.pipelines.pipe:processing column: content_type
INFO:ekorpkit.pipelines.pipe: &gt;&gt; elapsed time to replace: 0:00:00.003644
INFO:ekorpkit.base:Applying pipe: functools.partial(&lt;function pivot at 0x7f0abf86c1f0&gt;)
INFO:ekorpkit.base:Applying pipe: functools.partial(&lt;function save_dataframe at 0x7f0abf7043a0&gt;)
INFO:ekorpkit.io.file:Saving dataframe to ../data/fomc/fomc_sentiment_data.parquet
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>polarity_mean_beigebook</th>
      <th>polarity_mean_meeting_script</th>
      <th>polarity_mean_minutes</th>
      <th>polarity_mean_press_conf</th>
      <th>polarity_mean_speech</th>
      <th>polarity_mean_statement</th>
      <th>polarity_mean_testimony</th>
      <th>polarity_diffusion_beigebook</th>
      <th>polarity_diffusion_meeting_script</th>
      <th>polarity_diffusion_minutes</th>
      <th>...</th>
      <th>num_tokens_sum_speech</th>
      <th>num_tokens_sum_statement</th>
      <th>num_tokens_sum_testimony</th>
      <th>num_tokens_mean_beigebook</th>
      <th>num_tokens_mean_meeting_script</th>
      <th>num_tokens_mean_minutes</th>
      <th>num_tokens_mean_press_conf</th>
      <th>num_tokens_mean_speech</th>
      <th>num_tokens_mean_statement</th>
      <th>num_tokens_mean_testimony</th>
    </tr>
    <tr>
      <th>recent_meeting</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1990-02-07</th>
      <td>NaN</td>
      <td>-0.087583</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.095663</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>30.213010</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-03-27</th>
      <td>NaN</td>
      <td>-0.171992</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.179702</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>29.846369</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-05-15</th>
      <td>NaN</td>
      <td>-0.116052</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.125461</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>29.749077</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-07-03</th>
      <td>NaN</td>
      <td>-0.114829</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.117794</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>29.667920</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-08-21</th>
      <td>NaN</td>
      <td>-0.209552</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.219403</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>31.032836</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2021-06-16</th>
      <td>0.011743</td>
      <td>NaN</td>
      <td>0.041638</td>
      <td>-0.017544</td>
      <td>-0.031786</td>
      <td>0.435897</td>
      <td>0.235955</td>
      <td>0.012195</td>
      <td>NaN</td>
      <td>0.031142</td>
      <td>...</td>
      <td>6894.0</td>
      <td>384.0</td>
      <td>2522.0</td>
      <td>21.413279</td>
      <td>NaN</td>
      <td>30.615917</td>
      <td>27.100000</td>
      <td>29.088608</td>
      <td>29.538462</td>
      <td>28.337079</td>
    </tr>
    <tr>
      <th>2021-07-28</th>
      <td>-0.120547</td>
      <td>NaN</td>
      <td>-0.043969</td>
      <td>0.021318</td>
      <td>-0.042941</td>
      <td>0.461538</td>
      <td>NaN</td>
      <td>-0.134921</td>
      <td>NaN</td>
      <td>-0.069079</td>
      <td>...</td>
      <td>13170.0</td>
      <td>399.0</td>
      <td>NaN</td>
      <td>20.980159</td>
      <td>NaN</td>
      <td>32.888158</td>
      <td>27.261628</td>
      <td>29.072848</td>
      <td>30.692308</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2021-09-22</th>
      <td>-0.074328</td>
      <td>NaN</td>
      <td>-0.079199</td>
      <td>-0.087292</td>
      <td>-0.133837</td>
      <td>0.476190</td>
      <td>0.031746</td>
      <td>-0.075712</td>
      <td>NaN</td>
      <td>-0.112403</td>
      <td>...</td>
      <td>31138.0</td>
      <td>419.0</td>
      <td>1026.0</td>
      <td>22.957808</td>
      <td>NaN</td>
      <td>31.348837</td>
      <td>25.809384</td>
      <td>29.431002</td>
      <td>29.928571</td>
      <td>24.428571</td>
    </tr>
    <tr>
      <th>2021-11-03</th>
      <td>-0.046022</td>
      <td>NaN</td>
      <td>-0.064255</td>
      <td>-0.089881</td>
      <td>-0.030345</td>
      <td>0.215686</td>
      <td>-0.120000</td>
      <td>-0.048109</td>
      <td>NaN</td>
      <td>-0.080851</td>
      <td>...</td>
      <td>26096.0</td>
      <td>538.0</td>
      <td>556.0</td>
      <td>22.539497</td>
      <td>NaN</td>
      <td>31.880851</td>
      <td>27.720238</td>
      <td>31.980392</td>
      <td>31.647059</td>
      <td>27.800000</td>
    </tr>
    <tr>
      <th>2021-12-15</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.043929</td>
      <td>-0.075441</td>
      <td>-0.356613</td>
      <td>0.166667</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-0.064286</td>
      <td>...</td>
      <td>3694.0</td>
      <td>489.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>30.521429</td>
      <td>37.587413</td>
      <td>29.317460</td>
      <td>27.166667</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>286 rows × 35 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="s1">&#39;pipeline&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">_pipeline_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;aggregate_scores&#39;</span><span class="p">,</span> <span class="s1">&#39;replace&#39;</span><span class="p">,</span> <span class="s1">&#39;pivot&#39;</span><span class="p">,</span> <span class="s1">&#39;save_dataframe&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">num_workers</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">data_file</span> <span class="o">=</span> <span class="s2">&quot;fomc_sent_sentiments.parquet&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">aggregate_scores</span><span class="o">.</span><span class="n">groupby</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;content_type&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">apply_to</span> <span class="o">=</span> <span class="s1">&#39;content_type&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">to_replace</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fomc_&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">regex</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;content_type&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;polarity_mean&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_diffusion&#39;</span><span class="p">,</span> <span class="s1">&#39;num_examples&#39;</span><span class="p">,</span> <span class="s1">&#39;num_tokens_sum&#39;</span><span class="p">,</span> <span class="s1">&#39;num_tokens_mean&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">save_dataframe</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">save_dataframe</span><span class="o">.</span><span class="n">output_file</span> <span class="o">=</span> <span class="s1">&#39;fomc_tone_data_lm.parquet&#39;</span>
<span class="n">tone_data_lm</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">tone_data_lm</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">tone_data_lm</span><span class="p">,</span> <span class="n">_columns</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">tone_data_lm</span> <span class="o">=</span> <span class="n">tone_data_lm</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">eKonf</span><span class="o">.</span><span class="n">save_data</span><span class="p">(</span><span class="n">tone_data_lm</span><span class="p">,</span> <span class="s1">&#39;fomc_tone_data_lm.parquet&#39;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="predict-sentiments-with-the-finbert">
<h2>Predict sentiments with the finbert<a class="headerlink" href="#predict-sentiments-with-the-finbert" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">)</span>
<span class="n">ds_cfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;financial_phrasebank&#39;</span>
<span class="n">ds_cfg</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="s1">&#39;https://github.com/entelecheia/ekorpkit-book/raw/main/assets/data/financial_phrasebank.zip&#39;</span>
<span class="n">ds_cfg</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">ds_cfg</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">cached_path</span>
<span class="n">ds_cfg</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">overrides</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;+model/transformer=classification&#39;</span><span class="p">,</span>
    <span class="s1">&#39;+model/transformer/pretrained=finbert&#39;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">model_cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="s1">&#39;model/transformer=classification&#39;</span><span class="p">,</span> <span class="n">overrides</span><span class="p">)</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;fomc_finbert&#39;</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">dataset</span> <span class="o">=</span> <span class="n">ds_cfg</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">num_train_epochs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">max_seq_length</span> <span class="o">=</span> <span class="mi">256</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">train_batch_size</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">eval_batch_size</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">_method_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;eval&#39;</span><span class="p">]</span>
<span class="c1"># model_cfg._method_ = [&#39;train&#39;, &#39;eval&#39;]</span>
<span class="n">finbert_model</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">model_cfg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "3e7f3be465f449c7a3387b3a8411c554", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "064c4e197d7447cb949938bbaefa3e85", "version_major": 2, "version_minor": 0}
</script><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy:  0.8960176991150443
Precison:  0.8957698961367982
Recall:  0.8960176991150443
F1 Score:  0.8958088377661515
Model Report: 
___________________________________________________
              precision    recall  f1-score   support

    negative       0.81      0.77      0.79        61
     neutral       0.96      0.96      0.96       277
    positive       0.79      0.81      0.80       114

    accuracy                           0.90       452
   macro avg       0.85      0.85      0.85       452
weighted avg       0.90      0.90      0.90       452
</pre></div>
</div>
<img alt="../../../_images/07_FOMC_sentiments_20_3.png" src="../../../_images/07_FOMC_sentiments_20_3.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_cfg</span><span class="o">.</span><span class="n">_method_</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">config_group</span><span class="o">=</span><span class="s1">&#39;pipeline&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;fomc_sent_sentiments&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data_file</span> <span class="o">=</span> <span class="s2">&quot;fomc_sents.parquet&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">_pipeline_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;predict&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model_cfg</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">output_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">cfg</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">_finbert.parquet&#39;</span>
<span class="n">fomc_sent_sentiments_finbert</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">fomc_sent_sentiments_finbert</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "1dd484982db14ccfb46faac97c75c2ed", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "75ff9369bab94e20871f62aeeb8ead1d", "version_major": 2, "version_minor": 0}
</script><div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>text</th>
      <th>split</th>
      <th>timestamp</th>
      <th>content_type</th>
      <th>date</th>
      <th>speaker</th>
      <th>title</th>
      <th>decision</th>
      <th>rate</th>
      <th>...</th>
      <th>recent_rate</th>
      <th>next_meeting</th>
      <th>next_decision</th>
      <th>next_rate</th>
      <th>text_num_words</th>
      <th>section_id</th>
      <th>sent_id</th>
      <th>pred_labels</th>
      <th>raw_preds</th>
      <th>pred_probs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>The Secretary reported that advices of the ele...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>3.0</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>47</td>
      <td>29</td>
      <td>0</td>
      <td>neutral</td>
      <td>[2.2915966510772705, -0.9586986899375916, -2.4...</td>
      <td>0.955035</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>By unanimous vote, the Committee elected the f...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>3.0</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>73</td>
      <td>35</td>
      <td>0</td>
      <td>neutral</td>
      <td>[1.692587971687317, -0.2049560397863388, -2.53...</td>
      <td>0.858684</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>By unanimous vote, William J. McDonough, Marga...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>3.0</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>74</td>
      <td>37</td>
      <td>0</td>
      <td>neutral</td>
      <td>[1.8892569541931152, -0.3972317576408386, -2.6...</td>
      <td>0.898655</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>On January 15, 1993, the continuing rules, reg...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>3.0</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>59</td>
      <td>39</td>
      <td>0</td>
      <td>neutral</td>
      <td>[2.335063934326172, -1.0927255153656006, -2.45...</td>
      <td>0.960805</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>Members were asked to indicate if they wished ...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>3.0</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>25</td>
      <td>39</td>
      <td>1</td>
      <td>neutral</td>
      <td>[2.3842966556549072, -1.327033519744873, -2.36...</td>
      <td>0.967973</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 22 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fomc_sent_sentiments_finbert</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="s1">&#39;fomc_sent_sentiments_finbert.parquet&#39;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
<span class="n">fomc_sent_sentiments_finbert</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>text</th>
      <th>split</th>
      <th>timestamp</th>
      <th>content_type</th>
      <th>date</th>
      <th>speaker</th>
      <th>title</th>
      <th>decision</th>
      <th>rate</th>
      <th>...</th>
      <th>recent_rate</th>
      <th>next_meeting</th>
      <th>next_decision</th>
      <th>next_rate</th>
      <th>text_num_words</th>
      <th>section_id</th>
      <th>sent_id</th>
      <th>pred_labels</th>
      <th>raw_preds</th>
      <th>pred_probs</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>The Secretary reported that advices of the ele...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>3.00</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>47</td>
      <td>29</td>
      <td>0</td>
      <td>neutral</td>
      <td>[2.2915966510772705, -0.9586986899375916, -2.4...</td>
      <td>0.955035</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>By unanimous vote, the Committee elected the f...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>3.00</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>73</td>
      <td>35</td>
      <td>0</td>
      <td>neutral</td>
      <td>[1.692587971687317, -0.2049560397863388, -2.53...</td>
      <td>0.858684</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>By unanimous vote, William J. McDonough, Marga...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>3.00</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>74</td>
      <td>37</td>
      <td>0</td>
      <td>neutral</td>
      <td>[1.8892569541931152, -0.3972317576408386, -2.6...</td>
      <td>0.898655</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>On January 15, 1993, the continuing rules, reg...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>3.00</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>59</td>
      <td>39</td>
      <td>0</td>
      <td>neutral</td>
      <td>[2.335063934326172, -1.0927255153656006, -2.45...</td>
      <td>0.960805</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>Members were asked to indicate if they wished ...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>...</td>
      <td>3.00</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.00</td>
      <td>25</td>
      <td>39</td>
      <td>1</td>
      <td>neutral</td>
      <td>[2.3842966556549072, -1.327033519744873, -2.36...</td>
      <td>0.967973</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>653463</th>
      <td>2854</td>
      <td>It will not have the word “somewhat” on line 3.</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>MR. LUECKE</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>0.25</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>10</td>
      <td>287</td>
      <td>2</td>
      <td>neutral</td>
      <td>[2.3733553886413574, -1.3893874883651733, -2.2...</td>
      <td>0.967620</td>
    </tr>
    <tr>
      <th>653464</th>
      <td>2854</td>
      <td>Chair Yellen      Yes Vice Chairman Dudley    ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>MR. LUECKE</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>0.25</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>31</td>
      <td>287</td>
      <td>4</td>
      <td>neutral</td>
      <td>[2.224238872528076, -0.893900990486145, -2.421...</td>
      <td>0.948905</td>
    </tr>
    <tr>
      <th>653465</th>
      <td>2854</td>
      <td>And let me confirm that the next meeting will ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>0.25</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>19</td>
      <td>288</td>
      <td>3</td>
      <td>neutral</td>
      <td>[2.349479913711548, -1.391977071762085, -2.298...</td>
      <td>0.967770</td>
    </tr>
    <tr>
      <th>653466</th>
      <td>2854</td>
      <td>I believe box lunches are now available for pe...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>0.25</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>33</td>
      <td>288</td>
      <td>4</td>
      <td>neutral</td>
      <td>[2.311434030532837, -1.1415460109710693, -2.37...</td>
      <td>0.960746</td>
    </tr>
    <tr>
      <th>653467</th>
      <td>2854</td>
      <td>I will do my best, and I will consider at the ...</td>
      <td>train</td>
      <td>2014-12-17</td>
      <td>fomc_meeting_script</td>
      <td>2014-12-17</td>
      <td>CHAIR YELLEN</td>
      <td>FOMC Meeting Transcript</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>...</td>
      <td>0.25</td>
      <td>2015-01-28</td>
      <td>0.0</td>
      <td>0.25</td>
      <td>18</td>
      <td>288</td>
      <td>5</td>
      <td>neutral</td>
      <td>[2.3932976722717285, -1.2607381343841553, -2.4...</td>
      <td>0.967106</td>
    </tr>
  </tbody>
</table>
<p>653468 rows × 22 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="s1">&#39;pipeline&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">_pipeline_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;aggregate_scores&#39;</span><span class="p">,</span> <span class="s1">&#39;replace&#39;</span><span class="p">,</span> <span class="s1">&#39;pivot&#39;</span><span class="p">,</span> <span class="s1">&#39;save_dataframe&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">num_workers</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">data_file</span> <span class="o">=</span> <span class="s2">&quot;fomc_sent_sentiments_finbert.parquet&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">aggregate_scores</span><span class="o">.</span><span class="n">groupby</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;content_type&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">aggregate_scores</span><span class="o">.</span><span class="n">_method_</span> <span class="o">=</span> <span class="s1">&#39;classification&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">apply_to</span> <span class="o">=</span> <span class="s1">&#39;content_type&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">to_replace</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fomc_&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">regex</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;content_type&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;polarity_mean&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_diffusion&#39;</span><span class="p">,</span> <span class="s1">&#39;num_examples&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">save_dataframe</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">save_dataframe</span><span class="o">.</span><span class="n">output_file</span> <span class="o">=</span> <span class="s1">&#39;fomc_sentiment_finbert_next.parquet&#39;</span>
<span class="n">tone_data_finbert</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">tone_data_finbert</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">tone_data_finbert</span><span class="p">,</span> <span class="n">_columns</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">tone_data_finbert</span> <span class="o">=</span> <span class="n">tone_data_finbert</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">eKonf</span><span class="o">.</span><span class="n">save_data</span><span class="p">(</span><span class="n">tone_data_finbert</span><span class="p">,</span> <span class="s1">&#39;fomc_tone_data_finbert.parquet&#39;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tone_data_finbert</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="s1">&#39;fomc_tone_data_finbert.parquet&#39;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>

<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;polarity_mean_minutes&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_mean_press_conf&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_mean_speech&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_mean_statement&#39;</span><span class="p">,</span>
    <span class="s1">&#39;polarity_diffusion_minutes&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_diffusion_press_conf&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_diffusion_speech&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_diffusion_statement&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">tone_data_finbert</span> <span class="o">=</span>  <span class="n">tone_data_finbert</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">tone_data_finbert</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">tone_data_finbert</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;polarity&#39;</span><span class="p">,</span> <span class="s1">&#39;finbert&#39;</span><span class="p">)</span>
<span class="n">tone_data_finbert</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>finbert_mean_minutes</th>
      <th>finbert_mean_press_conf</th>
      <th>finbert_mean_speech</th>
      <th>finbert_mean_statement</th>
      <th>finbert_diffusion_minutes</th>
      <th>finbert_diffusion_press_conf</th>
      <th>finbert_diffusion_speech</th>
      <th>finbert_diffusion_statement</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1990-02-07</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-03-27</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-05-15</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-07-03</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-08-21</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2021-11-30</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.182338</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.239583</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2021-12-01</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2021-12-02</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.262141</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.338889</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2021-12-15</th>
      <td>0.509806</td>
      <td>0.280516</td>
      <td>NaN</td>
      <td>0.412947</td>
      <td>0.675</td>
      <td>0.377622</td>
      <td>NaN</td>
      <td>0.555556</td>
    </tr>
    <tr>
      <th>2021-12-17</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.408242</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.547619</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>1876 rows × 8 columns</p>
</div></div></div>
</div>
</section>
<section id="predict-sentiments-with-the-t5">
<h2>Predict sentiments with the T5<a class="headerlink" href="#predict-sentiments-with-the-t5" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">)</span>
<span class="n">ds_cfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;financial_phrasebank&#39;</span>
<span class="n">ds_cfg</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="s1">&#39;https://github.com/entelecheia/ekorpkit-book/raw/main/assets/data/financial_phrasebank.zip&#39;</span>
<span class="n">ds_cfg</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">ds_cfg</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">cached_path</span>
<span class="n">ds_cfg</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">overrides</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;+model/transformer=t5_classification_with_simple&#39;</span><span class="p">,</span>
    <span class="s1">&#39;+model/transformer/pretrained=t5-base&#39;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">model_cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="s1">&#39;model/transformer=t5_classification_with_simple&#39;</span><span class="p">,</span> <span class="n">overrides</span><span class="p">)</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;fomc_t5&#39;</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">dataset</span> <span class="o">=</span> <span class="n">ds_cfg</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">num_train_epochs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">max_seq_length</span> <span class="o">=</span> <span class="mi">256</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">train_batch_size</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">eval_batch_size</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">_method_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">]</span>
<span class="c1"># model_cfg._method_ = [&#39;eval&#39;]</span>
<span class="n">t5_model</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">model_cfg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/opt/conda/lib/python3.8/site-packages/transformers/models/t5/tokenization_t5.py:164: FutureWarning: This tokenizer was incorrectly instantiated with a model max length of 512 which will be corrected in Transformers v5.
For now, this behavior is kept to avoid breaking backwards compatibility when padding/encoding with `truncation is True`.
- Be aware that you SHOULD NOT rely on t5-base automatically truncating your input to 512 when padding/encoding.
- If you want to encode/pad to sequences longer than 512 you can either instantiate this tokenizer with `model_max_length` or pass `max_length` when encoding/padding.
- To avoid this warning, please instantiate this tokenizer with `model_max_length` set to your preferred value.
  warnings.warn(
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "424c711520fb441eb0aee942cdeaaf77", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/opt/conda/lib/python3.8/site-packages/transformers/tokenization_utils_base.py:3557: FutureWarning: 
`prepare_seq2seq_batch` is deprecated and will be removed in version 5 of HuggingFace Transformers. Use the regular
`__call__` method to prepare your inputs and the tokenizer under the `as_target_tokenizer` context manager to prepare
your targets.

Here is a short example:

model_inputs = tokenizer(src_texts, ...)
with tokenizer.as_target_tokenizer():
    labels = tokenizer(tgt_texts, ...)
model_inputs[&quot;labels&quot;] = labels[&quot;input_ids&quot;]

See the documentation of your specific tokenizer for more details on the specific arguments to the tokenizer of choice.
For a more complete example, see the implementation of `prepare_seq2seq_batch`.

  warnings.warn(formatted_warning, FutureWarning)
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "065857e5d009483e924682ecfb50fe13", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold -Color-Bold-Blue">wandb</span>: Currently logged in as: <span class=" -Color -Color-Yellow">entelecheia</span>. Use <span class=" -Color -Color-Bold">`wandb login --relogin`</span> to force relogin
</pre></div>
</div>
<div class="output text_html">wandb version 0.12.20 is available!  To upgrade, please run:
 $ pip install wandb --upgrade</div><div class="output text_html">Tracking run with wandb version 0.12.19</div><div class="output text_html">Run data is saved locally in <code>/workspace/projects/ekorpkit-book/outputs/fomc_t5/t5-base/wandb/run-20220701_020155-3fyvrvgf</code></div><div class="output text_html">Syncing run <strong><a href="https://wandb.ai/entelecheia/ekorpkit-book-fomc_t5/runs/3fyvrvgf" target="_blank">wandering-moon-1</a></strong> to <a href="https://wandb.ai/entelecheia/ekorpkit-book-fomc_t5" target="_blank">Weights & Biases</a> (<a href="https://wandb.me/run" target="_blank">docs</a>)<br/></div><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "4c7725f3f17c4bd8ab5ae5ca28621841", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "264e5fe84d3d4991825552e2b2c3b212", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/opt/conda/lib/python3.8/site-packages/transformers/tokenization_utils_base.py:3557: FutureWarning: 
`prepare_seq2seq_batch` is deprecated and will be removed in version 5 of HuggingFace Transformers. Use the regular
`__call__` method to prepare your inputs and the tokenizer under the `as_target_tokenizer` context manager to prepare
your targets.

Here is a short example:

model_inputs = tokenizer(src_texts, ...)
with tokenizer.as_target_tokenizer():
    labels = tokenizer(tgt_texts, ...)
model_inputs[&quot;labels&quot;] = labels[&quot;input_ids&quot;]

See the documentation of your specific tokenizer for more details on the specific arguments to the tokenizer of choice.
For a more complete example, see the implementation of `prepare_seq2seq_batch`.

  warnings.warn(formatted_warning, FutureWarning)
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "50fc145a70a04c049e5ccd6f4e6cf0b0", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "6b03561dc95c44b5bc6d915fe10b767b", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "2109ab3dbcb24cbc9d5101bb5304a189", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "41667c41eb044ff1b90bcb48518bf984", "version_major": 2, "version_minor": 0}
</script><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;eval_loss&#39;: 0.06258307859733529}
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "eb7386edda1f4544bb80d8f55a42d45c", "version_major": 2, "version_minor": 0}
</script><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Accuracy:  0.9491150442477876
Precison:  0.9495910765330818
Recall:  0.9491150442477876
F1 Score:  0.9474806981643329
Model Report: 
___________________________________________________
              precision    recall  f1-score   support

    negative       0.96      0.75      0.84        61
     neutral       0.97      1.00      0.98       277
    positive       0.90      0.94      0.92       114

    accuracy                           0.95       452
   macro avg       0.94      0.90      0.91       452
weighted avg       0.95      0.95      0.95       452
</pre></div>
</div>
<img alt="../../../_images/07_FOMC_sentiments_26_19.png" src="../../../_images/07_FOMC_sentiments_26_19.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model_cfg</span><span class="o">.</span><span class="n">_method_</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">config_group</span><span class="o">=</span><span class="s1">&#39;pipeline&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;fomc_sent_sentiments&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data_file</span> <span class="o">=</span> <span class="s2">&quot;fomc_sents.parquet&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">_pipeline_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;predict&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model_cfg</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">output_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">cfg</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">_t5.parquet&#39;</span>
<span class="n">fomc_sent_sentiments_t5</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">fomc_sent_sentiments_t5</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "8e778d63986e4e3f97ac43b2cd397a55", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/opt/conda/lib/python3.8/site-packages/transformers/tokenization_utils_base.py:3557: FutureWarning: 
`prepare_seq2seq_batch` is deprecated and will be removed in version 5 of HuggingFace Transformers. Use the regular
`__call__` method to prepare your inputs and the tokenizer under the `as_target_tokenizer` context manager to prepare
your targets.

Here is a short example:

model_inputs = tokenizer(src_texts, ...)
with tokenizer.as_target_tokenizer():
    labels = tokenizer(tgt_texts, ...)
model_inputs[&quot;labels&quot;] = labels[&quot;input_ids&quot;]

See the documentation of your specific tokenizer for more details on the specific arguments to the tokenizer of choice.
For a more complete example, see the implementation of `prepare_seq2seq_batch`.

  warnings.warn(formatted_warning, FutureWarning)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>text</th>
      <th>split</th>
      <th>timestamp</th>
      <th>content_type</th>
      <th>date</th>
      <th>speaker</th>
      <th>title</th>
      <th>decision</th>
      <th>rate</th>
      <th>...</th>
      <th>recent_decision</th>
      <th>recent_rate</th>
      <th>next_meeting</th>
      <th>next_decision</th>
      <th>next_rate</th>
      <th>text_num_words</th>
      <th>section_id</th>
      <th>sent_id</th>
      <th>prefix</th>
      <th>pred_labels</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>The Secretary reported that advices of the ele...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>47</td>
      <td>29</td>
      <td>0</td>
      <td>classification</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>By unanimous vote, the Committee elected the f...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>73</td>
      <td>35</td>
      <td>0</td>
      <td>classification</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>By unanimous vote, William J. McDonough, Marga...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>74</td>
      <td>37</td>
      <td>0</td>
      <td>classification</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>On January 15, 1993, the continuing rules, reg...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>59</td>
      <td>39</td>
      <td>0</td>
      <td>classification</td>
      <td>neutral</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>Members were asked to indicate if they wished ...</td>
      <td>train</td>
      <td>1993-02-03</td>
      <td>fomc_minutes</td>
      <td>1993-02-03</td>
      <td>Alan Greenspan</td>
      <td>FOMC Meeting Minutes</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>...</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>1993-02-18</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>25</td>
      <td>39</td>
      <td>1</td>
      <td>classification</td>
      <td>neutral</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 21 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="s1">&#39;pipeline&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">_pipeline_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;aggregate_scores&#39;</span><span class="p">,</span> <span class="s1">&#39;replace&#39;</span><span class="p">,</span> <span class="s1">&#39;pivot&#39;</span><span class="p">,</span> <span class="s1">&#39;save_dataframe&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">num_workers</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">data_file</span> <span class="o">=</span> <span class="s2">&quot;fomc_sent_sentiments_t5.parquet&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">aggregate_scores</span><span class="o">.</span><span class="n">groupby</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;content_type&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">aggregate_scores</span><span class="o">.</span><span class="n">_method_</span> <span class="o">=</span> <span class="s1">&#39;classification_t5&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">apply_to</span> <span class="o">=</span> <span class="s1">&#39;content_type&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">to_replace</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fomc_&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">}</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">replace</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">regex</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="s1">&#39;date&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;content_type&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">pivot</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;polarity_diffusion&#39;</span><span class="p">,</span> <span class="s1">&#39;num_examples&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">save_dataframe</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="n">data_dir</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">save_dataframe</span><span class="o">.</span><span class="n">output_file</span> <span class="o">=</span> <span class="s1">&#39;fomc_sentiment_t5_next.parquet&#39;</span>
<span class="n">tone_data_t5</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">tone_data_t5</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">tone_data_t5</span><span class="p">,</span> <span class="n">_columns</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">tone_data_t5</span> <span class="o">=</span> <span class="n">tone_data_t5</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
<span class="n">eKonf</span><span class="o">.</span><span class="n">save_data</span><span class="p">(</span><span class="n">tone_data_t5</span><span class="p">,</span> <span class="s1">&#39;fomc_tone_data_t5.parquet&#39;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tone_data_t5</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="s1">&#39;fomc_tone_data_t5.parquet&#39;</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">)</span>

<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;polarity_diffusion_minutes&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_diffusion_press_conf&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_diffusion_speech&#39;</span><span class="p">,</span> <span class="s1">&#39;polarity_diffusion_statement&#39;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">tone_data_t5</span> <span class="o">=</span>  <span class="n">tone_data_t5</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">tone_data_t5</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">tone_data_t5</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;polarity&#39;</span><span class="p">,</span> <span class="s1">&#39;t5&#39;</span><span class="p">)</span>
<span class="n">tone_data_t5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>t5_diffusion_minutes</th>
      <th>t5_diffusion_press_conf</th>
      <th>t5_diffusion_speech</th>
      <th>t5_diffusion_statement</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1990-02-07</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-03-27</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-05-15</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-07-03</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1990-08-21</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2021-11-30</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.239583</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2021-12-01</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2021-12-02</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.250000</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2021-12-15</th>
      <td>0.403571</td>
      <td>0.216783</td>
      <td>NaN</td>
      <td>0.444444</td>
    </tr>
    <tr>
      <th>2021-12-17</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.174603</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>1876 rows × 4 columns</p>
</div></div></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./docs/usecases/fomc"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="06_FOMC_AutoML.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Checking Baseline with AutoML</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="08_FOMC_EDA_sentiments.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">EDA on Sentiment Data</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Young Joon Lee<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>