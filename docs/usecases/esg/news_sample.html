
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Predicting ESG Categories and Polarities &#8212; eKorpkit Tutorials</title>
    
  <link href="../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ESG Topic Analysis" href="../../research/esg_topics/analyst.html" />
    <link rel="prev" title="Training Classifiers for ESG Ratings" href="classifiers.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../_static/ekorpkit.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">eKorpkit Tutorials</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../intro.html">
   eKonomic Research Python Toolkit
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Basics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../basics/index.html">
   Getting started
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/install.html">
     Installation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/usage.html">
     Usage
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../basics/features/index.html">
   Key features
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/features/easy_config.html">
     Easy Configuration
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/features/no_boiler.html">
     No Boilerplate
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/features/workflows.html">
     Workflows
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/features/share.html">
     Sharable and Reproducible
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../basics/features/plug.html">
     Pluggable Architece
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tutorials
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../tutorials/corpora/index.html">
   Copora
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/corpora/corpus.html">
     Instantiating corpora and corpus class
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/corpora/filter_and_save.html">
     Corpus task pipeline
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../tutorials/datasets/index.html">
   Datasets
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/datasets/dataset.html">
     Datasets
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../tutorials/pipelines/index.html">
   Pipelines
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/pipelines/pipeline.html">
     Instantiating pipeline
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../tutorials/models/index.html">
   Models
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../tutorials/models/embeddings/index.html">
     Word Embeddings
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/embeddings/word2vec_basics.html">
       Word2Vec Basics
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../tutorials/models/sentiment/index.html">
     Sentiment Analyers
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/sentiment/lexicon.html">
       Sentiment Lexicons
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/sentiment/lbsa_en.html">
       Lexicon-based Sentiment Analysis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/sentiment/sentiment.html">
       LM Dictionary vs. finbert vs. T5
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../tutorials/models/ngram/index.html">
     N-Grams
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../tutorials/models/ngram/ngram.html">
       N-Grams
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../tutorials/preprocessors/preprocessor.html">
   Preprocessors
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../tutorials/preprocessors/mecab.html">
     Mecab Tokenizer
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Datasets
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../corpus/ekorpkot_corpus.html">
   The eKorpkit Corpus
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Use Cases
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../fomc/index.html">
   FOMC
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../fomc/01_FOMC_sentiments.html">
     Sentiment Analysis of FOMC Statements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../fomc/02_FOMC_numerical_data.html">
     Prepapre Numerical Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../bok/index.html">
   Bank of Korea
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../edgar/index.html">
   EDGAR
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../edgar/predict_edgar.html">
     Prediciting Sentiments
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   ESG
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="classifiers.html">
     Training Classifiers for ESG Ratings
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Predicting ESG Categories and Polarities
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Research
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../research/esg_topics/analyst.html">
   ESG Topic Analysis
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/index.html">
   References
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/docs/usecases/esg/news_sample.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/entelecheia/ekorpkit-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/entelecheia/ekorpkit-book/issues/new?title=Issue%20on%20page%20%2Fdocs/usecases/esg/news_sample.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/entelecheia/ekorpkit-book/main?urlpath=tree/ekorpkit-book/docs/usecases/esg/news_sample.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/entelecheia/ekorpkit-book/blob/main/ekorpkit-book/docs/usecases/esg/news_sample.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#build-a-bigkinds-corpus">
   Build a BigKinds corpus
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-a-corpus">
   Load a corpus
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predicting-polarities">
   Predicting polarities
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predicting-categories">
   Predicting categories
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Predicting ESG Categories and Polarities</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#build-a-bigkinds-corpus">
   Build a BigKinds corpus
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-a-corpus">
   Load a corpus
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predicting-polarities">
   Predicting polarities
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#predicting-categories">
   Predicting categories
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="predicting-esg-categories-and-polarities">
<h1>Predicting ESG Categories and Polarities<a class="headerlink" href="#predicting-esg-categories-and-polarities" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">config</span> InlineBackend.figure_format=&#39;retina&#39;
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">ekorpkit</span> <span class="kn">import</span> <span class="n">eKonf</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">eKonf</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.1.31+4.g498a9bc.dirty
</pre></div>
</div>
</div>
</div>
<div class="section" id="build-a-bigkinds-corpus">
<h2>Build a BigKinds corpus<a class="headerlink" href="#build-a-bigkinds-corpus" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">config_group</span><span class="o">=</span><span class="s1">&#39;corpus/builtin=bigkinds&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="s1">&#39;../data/bigkinds&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">uri</span> <span class="o">=</span> <span class="s1">&#39;gd://16PlTKZzsLATYkoej9NrT7U5RdRR3km0c:LGENSOL/LGENSOL_20220101_.zip&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="n">cfg</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">cache</span><span class="o">.</span><span class="n">path</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">num_workers</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">overwrite</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.io.cached_path:cached path: /workspace/.cache/gdown/.16PlTKZzsLATYkoej9NrT7U5RdRR3km0c/LGENSOL/LGENSOL_20220101_.zip
INFO:ekorpkit.ekonf:initialized batcher with &lt;ekorpkit.utils.batch.batcher.Batcher object at 0x7f7387fba070&gt;
INFO:ekorpkit.io.cached_path:cached path: /workspace/.cache/gdown/.16PlTKZzsLATYkoej9NrT7U5RdRR3km0c/LGENSOL/LGENSOL_20220101_.zip
INFO:ekorpkit.info.stat:Loading info file: ../data/bigkinds/info-bigkinds.yaml
INFO:ekorpkit.io.file:Processing [1] files from [[&#39;*.zip&#39;]]
INFO:ekorpkit.io.load.data:==&gt; processing 1/1 files &lt;==
INFO:ekorpkit.io.file:::Extracting files from /workspace/.cache/gdown/.16PlTKZzsLATYkoej9NrT7U5RdRR3km0c/LGENSOL/LGENSOL_20220101_.zip with zip
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;category&#39;: &#39;formal&#39;,
 &#39;column_info&#39;: {&#39;columns&#39;: {&#39;id&#39;: &#39;id&#39;,
                             &#39;merge_meta_on&#39;: None,
                             &#39;text&#39;: &#39;text&#39;,
                             &#39;timestamp&#39;: None},
                 &#39;data&#39;: {&#39;id&#39;: &#39;int&#39;, &#39;text&#39;: &#39;str&#39;},
                 &#39;datetime&#39;: {&#39;_parms_&#39;: None, &#39;format&#39;: None, &#39;key&#39;: None},
                 &#39;keys&#39;: {&#39;id&#39;: &#39;id&#39;,
                          &#39;split&#39;: &#39;split&#39;,
                          &#39;text&#39;: &#39;text&#39;,
                          &#39;timestamp&#39;: &#39;timestamp&#39;},
                 &#39;meta&#39;: {&#39;category&#39;: &#39;str&#39;,
                          &#39;code&#39;: &#39;str&#39;,
                          &#39;date&#39;: &#39;str&#39;,
                          &#39;filename&#39;: &#39;str&#39;,
                          &#39;id&#39;: &#39;int&#39;},
                 &#39;segment_separator&#39;: &#39;\\n\\n&#39;,
                 &#39;sentence_separator&#39;: &#39;\\n&#39;,
                 &#39;timestamp&#39;: {&#39;_parms_&#39;: None, &#39;format&#39;: None, &#39;key&#39;: None}},
 &#39;data_files&#39;: {&#39;train&#39;: &#39;bigkinds-train.parquet&#39;},
 &#39;data_files_modified&#39;: &#39;2022-05-28 07:43:27&#39;,
 &#39;description&#39;: &#39;Korean News Dataset from Big Kinds&#39;,
 &#39;fullname&#39;: &#39;Korean News Dataset from Big Kinds&#39;,
 &#39;homepage&#39;: &#39;https://www.bigkinds.or.kr&#39;,
 &#39;info_updated&#39;: &#39;2022-05-28 07:43:27&#39;,
 &#39;lang&#39;: &#39;ko&#39;,
 &#39;meta_files&#39;: {&#39;train&#39;: &#39;meta-bigkinds-train.parquet&#39;},
 &#39;meta_files_modified&#39;: &#39;2022-05-28 07:43:25&#39;,
 &#39;name&#39;: &#39;bigkinds&#39;,
 &#39;num_bytes_before_processing&#39;: 592303,
 &#39;num_docs&#39;: 233,
 &#39;num_docs_before_processing&#39;: 233,
 &#39;num_segments&#39;: 1616,
 &#39;num_sents&#39;: 1744,
 &#39;num_words&#39;: 53034,
 &#39;size_in_bytes&#39;: 590180,
 &#39;size_in_human_bytes&#39;: &#39;576.35 KiB&#39;,
 &#39;splits&#39;: {&#39;train&#39;: {&#39;data_file&#39;: &#39;bigkinds-train.parquet&#39;,
                      &#39;dataset_name&#39;: &#39;bigkinds&#39;,
                      &#39;human_bytes&#39;: &#39;576.35 KiB&#39;,
                      &#39;human_bytes_wospc&#39;: &#39;521.73 KiB&#39;,
                      &#39;meta_file&#39;: &#39;meta-bigkinds-train.parquet&#39;,
                      &#39;name&#39;: &#39;train&#39;,
                      &#39;num_bytes&#39;: 590180,
                      &#39;num_bytes_before_processing&#39;: 592303,
                      &#39;num_bytes_max&#39;: 6813,
                      &#39;num_bytes_median&#39;: 2405,
                      &#39;num_bytes_min&#39;: 310,
                      &#39;num_bytes_wospc&#39;: 534252,
                      &#39;num_docs&#39;: 233,
                      &#39;num_docs_before_processing&#39;: 233,
                      &#39;num_segments&#39;: 1616,
                      &#39;num_segments_median&#39;: 7,
                      &#39;num_sents&#39;: 1744,
                      &#39;num_sents_median&#39;: 7,
                      &#39;num_words&#39;: 53034,
                      &#39;num_words_max&#39;: 646,
                      &#39;num_words_median&#39;: 214,
                      &#39;num_words_min&#39;: 11}},
 &#39;version&#39;: &#39;1.0.0&#39;}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.corpora.build: &gt;&gt; elapsed time to load and parse data: 0:00:00.238983
INFO:ekorpkit.corpora.build:
Transforming dataframe with pipeline: [&#39;split_column&#39;, &#39;eval_columns&#39;, &#39;reset_index&#39;, &#39;save_metadata&#39;]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;filename&#39;: &#39;02100201.20220328092219001.txt&#39;, &#39;text&#39;: &quot;[머니투데이 이상수 MTN PD]\n\n\n▶▶▶ 오늘 증시 MBTI\n\n이재상 어드바이저 [압축된 순환매] 시장\n이달해 어드바이저 [지수 반등 속 테마의 순환매] 시장\n\n\n▶▶▶ 성공투자 국민투표\n\n▶ 이재상 어드바이저\n\n- 로봇주\n- 이미 오른 종목보다 ‘숨은 종목’ 공략\n\n▶ 이달해 어드바이저\n\n- 경구용 치료제주\n- &#39;매집&#39; 이후 조정 종목 분할 매수 전략\n\n\n▶▶▶ 유망주 클라쓰\n\n▶ 이재상 어드바이저\n\nLG에너지솔루션(373220)\n\n- 기관(연기금)의 집중 매수 유입\n- 테슬라향 원통형 전지 수요 강세\n- 1분기 예상 매출액, 컨센서스 상회 예상\n- 북미 대규모 배터리 투자…총 6.5조 원 투입\n\n\n▶ 이달해 어드바이저\n\n에이치피오(357230)\n\n- 中 한자녀 정책 폐지 수혜 전망\n- &#39;K-영ㆍ유아용품&#39;, 中에서 인기\n- 지난해 4분기 매출액, 역대 최대 경신\n- 2024년 中 영ㆍ유아산업 시장 규모 1,000조 원 전망\n\n\n\n* 이 방송은 머니투데이방송 홈페이지 및 케이블방송에서 라이브로 시청하실 수 있습니다. 또한 방송 종료 후에는 인터넷 다시보기로 시청하실 수 있습니다.\n&quot;, &#39;category&#39;: &#39;경제&gt;증권_증시 | IT_과학&gt;IT_과학일반&#39;, &lt;_Keys.SPLIT: &#39;split&#39;&gt;: &#39;train&#39;}
                         filename  \
0  02100201.20220328092219001.txt   
1  02100311.20220126172142001.txt   
2  02100311.20220127091053001.txt   
3  02100311.20220127091055001.txt   
4  02100311.20220127091239001.txt   

                                                text  \
0  [머니투데이 이상수 MTN PD]\n\n\n▶▶▶ 오늘 증시 MBTI\n\n이재상 ...   
1  &lt;유가증권&gt;\n\n\n▲신주배정기준일=대한전선(001440)(유상) ▲보통주추가상장...   
2  사상 최대 규모의 기업공개(IPO) ‘초대어’ LG에너지솔루션(373220)이 코스...   
3  LG에너지솔루션(373220)(LG엔솔)이 27일 코스피 입성 첫 날 SK하이닉스를...   
4  사상 최대 규모의 기업공개(IPO) ‘초대어’ LG에너지솔루션(373220)이 코스...   

                       category _Keys.SPLIT  
0      경제&gt;증권_증시 | IT_과학&gt;IT_과학일반       train  
1      경제&gt;증권_증시 | 지역&gt;경남 | 지역&gt;전남       train  
2   경제&gt;자원 | 경제&gt;증권_증시 | IT_과학&gt;과학       train  
3  경제&gt;증권_증시 | 경제&gt;금융_재테크 | 경제&gt;자원       train  
4   IT_과학&gt;과학 | 경제&gt;유통 | 경제&gt;증권_증시       train  
(233, 4)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.pipelines.pipe:Applying pipeline: OrderedDict([(&#39;split_column&#39;, &#39;split_column&#39;), (&#39;eval_columns&#39;, &#39;eval_columns&#39;), (&#39;reset_index&#39;, &#39;reset_index&#39;), (&#39;save_metadata&#39;, &#39;save_metadata&#39;)])
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function split_column at 0x7f7387a1d790&gt;)
INFO:ekorpkit.pipelines.pipe:Split column: {&#39;_func_&#39;: {&#39;_partial_&#39;: True, &#39;_target_&#39;: &#39;ekorpkit.pipelines.pipe.split_column&#39;}, &#39;source&#39;: &#39;filename&#39;, &#39;target&#39;: [&#39;code&#39;, &#39;date&#39;, &#39;ext&#39;], &#39;split&#39;: {&#39;pat&#39;: &#39;.&#39;, &#39;n&#39;: -1, &#39;expand&#39;: True}, &#39;verbose&#39;: True}
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function eval_columns at 0x7f7387a1d820&gt;)
INFO:ekorpkit.pipelines.pipe:Eval columns: {&#39;_func_&#39;: {&#39;_partial_&#39;: True, &#39;_target_&#39;: &#39;ekorpkit.pipelines.pipe.eval_columns&#39;}, &#39;expressions&#39;: {&#39;date&#39;: &quot;df.date.str[:4] + &#39;-&#39; + df.date.str[4:6] + &#39;-&#39; + df.date.str[6:8] + &#39; &#39; + df.date.str[8:10] + &#39;:&#39; + df.date.str[10:12] + &#39;:&#39; + df.date.str[12:14]&quot;}, &#39;engine&#39;: &#39;python&#39;, &#39;eval_at&#39;: &#39;python&#39;, &#39;verbose&#39;: True}
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function reset_index at 0x7f7387a1df70&gt;)
INFO:ekorpkit.pipelines.pipe:Resetting index: {&#39;_func_&#39;: {&#39;_partial_&#39;: True, &#39;_target_&#39;: &#39;ekorpkit.pipelines.pipe.reset_index&#39;}, &#39;index_column_name&#39;: &#39;id&#39;, &#39;drop_index&#39;: False, &#39;verbose&#39;: True}
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function save_metadata at 0x7f7387a22af0&gt;)
INFO:ekorpkit.pipelines.pipe:Saving metadata: {&#39;_func_&#39;: {&#39;_partial_&#39;: True, &#39;_target_&#39;: &#39;ekorpkit.pipelines.pipe.save_metadata&#39;}, &#39;filepath&#39;: &#39;../data/bigkinds/meta-bigkinds-train.parquet&#39;, &#39;filetype&#39;: None, &#39;column_info&#39;: {&#39;keys&#39;: {&#39;id&#39;: &#39;id&#39;, &#39;text&#39;: &#39;text&#39;, &#39;timestamp&#39;: &#39;timestamp&#39;, &#39;split&#39;: &#39;split&#39;}, &#39;columns&#39;: {&#39;id&#39;: &#39;id&#39;, &#39;text&#39;: &#39;text&#39;, &#39;merge_meta_on&#39;: None, &#39;timestamp&#39;: None}, &#39;data&#39;: {&#39;id&#39;: &#39;int&#39;, &#39;text&#39;: &#39;str&#39;}, &#39;meta&#39;: {&#39;id&#39;: &#39;int&#39;, &#39;date&#39;: &#39;str&#39;, &#39;code&#39;: &#39;str&#39;, &#39;category&#39;: &#39;str&#39;, &#39;filename&#39;: &#39;str&#39;}, &#39;timestamp&#39;: {&#39;key&#39;: None, &#39;format&#39;: None, &#39;_parms_&#39;: None}, &#39;datetime&#39;: {&#39;key&#39;: None, &#39;format&#39;: None, &#39;_parms_&#39;: None}, &#39;segment_separator&#39;: &#39;\\n\\n&#39;, &#39;sentence_separator&#39;: &#39;\\n&#39;}, &#39;split_name&#39;: &#39;train&#39;, &#39;verbose&#39;: True}
INFO:ekorpkit.io.file:Saving dataframe as ../data/bigkinds/meta-bigkinds-train.parquet
INFO:ekorpkit.io.file: &gt;&gt; elapsed time to save data: 0:00:00.011196
INFO:ekorpkit.io.file: &gt;&gt; saved dataframe to ../data/bigkinds/meta-bigkinds-train.parquet
INFO:ekorpkit.info.stat:Initializing statistics for split: train with stats: {&#39;name&#39;: &#39;train&#39;, &#39;dataset_name&#39;: &#39;bigkinds&#39;, &#39;data_file&#39;: &#39;bigkinds-train.parquet&#39;, &#39;meta_file&#39;: &#39;meta-bigkinds-train.parquet&#39;}
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                           filename  \
228  02100311.20220523142323001.txt   
229  02100311.20220523163810001.txt   
230  02100311.20220524063126001.txt   
231  02100311.20220524091550002.txt   
232  02100311.20220524180717001.txt   

                                                  text  \
228  기관 투자가의 매수세에 소폭 상승 출발한 코스피가 오후 들어 상승분을 대부분 반납하...   
229  기관의 매수세에 코스피가 소폭 상승 마감했다. 장 초반에는 중국 금리 인하 효과가 ...   
230  순매수 10종목중 8개 마이너스\n개인투자자들이 최근 한 달 동안 사들인 상위 10...   
231  77㎾h 탑재한 폭스바겐 차량\nLG에너지솔루션(373220) 배터리가 탑재된 전기...   
232  ■ &#39;몸값 3조&#39; 일진머티리얼즈 매물로\n일진그룹이 미래 성장의 주축으로 투자해온 ...   

                          category _Keys.SPLIT      code               date  \
228       경제&gt;증권_증시 | 경제&gt;외환 | 경제&gt;유통       train  02100311  20220523142323001   
229               경제&gt;증권_증시 | 경제&gt;외환       train  02100311  20220523163810001   
230  경제&gt;증권_증시 | 경제&gt;금융_재테크 | 경제&gt;부동산       train  02100311  20220524063126001   
231  경제&gt;자동차 | IT_과학&gt;모바일 | IT_과학&gt;과학       train  02100311  20220524091550002   
232     경제&gt;반도체 | 경제&gt;산업_기업 | 경제&gt;자동차       train  02100311  20220524180717001   

     ext  
228  txt  
229  txt  
230  txt  
231  txt  
232  txt  
                           filename  \
228  02100311.20220523142323001.txt   
229  02100311.20220523163810001.txt   
230  02100311.20220524063126001.txt   
231  02100311.20220524091550002.txt   
232  02100311.20220524180717001.txt   

                                                  text  \
228  기관 투자가의 매수세에 소폭 상승 출발한 코스피가 오후 들어 상승분을 대부분 반납하...   
229  기관의 매수세에 코스피가 소폭 상승 마감했다. 장 초반에는 중국 금리 인하 효과가 ...   
230  순매수 10종목중 8개 마이너스\n개인투자자들이 최근 한 달 동안 사들인 상위 10...   
231  77㎾h 탑재한 폭스바겐 차량\nLG에너지솔루션(373220) 배터리가 탑재된 전기...   
232  ■ &#39;몸값 3조&#39; 일진머티리얼즈 매물로\n일진그룹이 미래 성장의 주축으로 투자해온 ...   

                          category _Keys.SPLIT      code                 date  \
228       경제&gt;증권_증시 | 경제&gt;외환 | 경제&gt;유통       train  02100311  2022-05-23 14:23:23   
229               경제&gt;증권_증시 | 경제&gt;외환       train  02100311  2022-05-23 16:38:10   
230  경제&gt;증권_증시 | 경제&gt;금융_재테크 | 경제&gt;부동산       train  02100311  2022-05-24 06:31:26   
231  경제&gt;자동차 | IT_과학&gt;모바일 | IT_과학&gt;과학       train  02100311  2022-05-24 09:15:50   
232     경제&gt;반도체 | 경제&gt;산업_기업 | 경제&gt;자동차       train  02100311  2022-05-24 18:07:17   

     ext  
228  txt  
229  txt  
230  txt  
231  txt  
232  txt  
   id                        filename  \
0   0  02100201.20220328092219001.txt   
1   1  02100311.20220126172142001.txt   
2   2  02100311.20220127091053001.txt   
3   3  02100311.20220127091055001.txt   
4   4  02100311.20220127091239001.txt   

                                                text  \
0  [머니투데이 이상수 MTN PD]\n\n\n▶▶▶ 오늘 증시 MBTI\n\n이재상 ...   
1  &lt;유가증권&gt;\n\n\n▲신주배정기준일=대한전선(001440)(유상) ▲보통주추가상장...   
2  사상 최대 규모의 기업공개(IPO) ‘초대어’ LG에너지솔루션(373220)이 코스...   
3  LG에너지솔루션(373220)(LG엔솔)이 27일 코스피 입성 첫 날 SK하이닉스를...   
4  사상 최대 규모의 기업공개(IPO) ‘초대어’ LG에너지솔루션(373220)이 코스...   

                       category _Keys.SPLIT      code                 date  \
0      경제&gt;증권_증시 | IT_과학&gt;IT_과학일반       train  02100201  2022-03-28 09:22:19   
1      경제&gt;증권_증시 | 지역&gt;경남 | 지역&gt;전남       train  02100311  2022-01-26 17:21:42   
2   경제&gt;자원 | 경제&gt;증권_증시 | IT_과학&gt;과학       train  02100311  2022-01-27 09:10:53   
3  경제&gt;증권_증시 | 경제&gt;금융_재테크 | 경제&gt;자원       train  02100311  2022-01-27 09:10:55   
4   IT_과학&gt;과학 | 경제&gt;유통 | 경제&gt;증권_증시       train  02100311  2022-01-27 09:12:39   

   ext  
0  txt  
1  txt  
2  txt  
3  txt  
4  txt  
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "f9fef3f4f1d549df99d9f1654dedddb0", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "1442372b3dc541a5852508c9e048922e", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.info.stat: &gt;&gt; elapsed time to calculate statistics before processing: 0:00:00.075149
INFO:ekorpkit.info.stat: &gt;&gt; updated splits: {&#39;train&#39;: {&#39;name&#39;: &#39;train&#39;, &#39;dataset_name&#39;: &#39;bigkinds&#39;, &#39;data_file&#39;: &#39;bigkinds-train.parquet&#39;, &#39;meta_file&#39;: &#39;meta-bigkinds-train.parquet&#39;, &#39;num_docs_before_processing&#39;: 233, &#39;num_bytes_before_processing&#39;: 592303, &#39;num_sents&#39;: 1977}}
INFO:ekorpkit.corpora.build:
Processing dataframe with pipeline: [&#39;normalize&#39;, &#39;filter_length&#39;, &#39;drop_duplicates&#39;, &#39;save_samples&#39;, &#39;save_dataframe&#39;]
INFO:ekorpkit.pipelines.pipe:Applying pipeline: OrderedDict([(&#39;normalize&#39;, &#39;normalize&#39;), (&#39;filter_length&#39;, &#39;filter_length&#39;), (&#39;drop_duplicates&#39;, &#39;drop_duplicates&#39;), (&#39;save_samples&#39;, &#39;save_samples&#39;), (&#39;save_dataframe&#39;, &#39;save_dataframe&#39;)])
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function normalize at 0x7f7387a22040&gt;)
INFO:ekorpkit.pipelines.pipe:instantiating normalizer
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "d142007532aa476a91300b97961191b8", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.pipelines.pipe: &gt;&gt; elapsed time to normalize: 0:00:00.786117
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function filter_length at 0x7f7387a225e0&gt;, len_bytes={&#39;_partial_&#39;: True, &#39;_target_&#39;: &#39;ekorpkit.utils.func.len_bytes&#39;}, len_words={&#39;_partial_&#39;: True, &#39;_target_&#39;: &#39;ekorpkit.utils.func.len_words&#39;})
INFO:ekorpkit.pipelines.pipe:Filtering by length: {&#39;_func_&#39;: {&#39;_partial_&#39;: True, &#39;_target_&#39;: &#39;ekorpkit.pipelines.pipe.filter_length&#39;, &#39;len_bytes&#39;: {&#39;_partial_&#39;: True, &#39;_target_&#39;: &#39;ekorpkit.utils.func.len_bytes&#39;}, &#39;len_words&#39;: {&#39;_partial_&#39;: True, &#39;_target_&#39;: &#39;ekorpkit.utils.func.len_words&#39;}}, &#39;apply_to&#39;: &#39;text&#39;, &#39;min_length&#39;: 10, &#39;max_length&#39;: None, &#39;len_func&#39;: &#39;len_bytes&#39;, &#39;verbose&#39;: True, &#39;use_batcher&#39;: True}
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "bd9facf3d1ec470da3d8d6ea03cd71a5", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.pipelines.pipe:0 of 233 documents removed due to length is less than 10
INFO:ekorpkit.pipelines.pipe: &gt;&gt; elapsed time to filter length: 0:00:00.021040
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function drop_duplicates at 0x7f7387a22700&gt;)
INFO:ekorpkit.pipelines.pipe:Dropping duplicates: {&#39;_func_&#39;: {&#39;_partial_&#39;: True, &#39;_target_&#39;: &#39;ekorpkit.pipelines.pipe.drop_duplicates&#39;}, &#39;apply_to&#39;: &#39;text&#39;, &#39;verbose&#39;: True}
INFO:ekorpkit.pipelines.pipe:233 documents after dropping 0 duplicates from [[&#39;text&#39;]]
INFO:ekorpkit.pipelines.pipe: &gt;&gt; elapsed time to drop duplicates: 0:00:00.003504
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function save_samples at 0x7f7387a22790&gt;)
INFO:ekorpkit.pipelines.pipe:Saving samples: {&#39;_func_&#39;: {&#39;_partial_&#39;: True, &#39;_target_&#39;: &#39;ekorpkit.pipelines.pipe.save_samples&#39;}, &#39;apply_to&#39;: &#39;text&#39;, &#39;num_samples_to_save&#39;: 2, &#39;smaple_file_prfix&#39;: None, &#39;sample_length_to_print&#39;: 1000, &#39;verbose&#39;: True, &#39;sample_file_prefix&#39;: &#39;../data/bigkinds/sample-bigkinds-train&#39;}
INFO:ekorpkit.pipelines.pipe:Saved 2 samples to ../data/bigkinds/sample-bigkinds-train.txt
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function save_dataframe at 0x7f7387a22b80&gt;)
INFO:ekorpkit.io.file:Saving dataframe as ../data/bigkinds/bigkinds-train.parquet
INFO:ekorpkit.io.file: &gt;&gt; elapsed time to save data: 0:00:00.035875
INFO:ekorpkit.io.file: &gt;&gt; saved dataframe to ../data/bigkinds/bigkinds-train.parquet
INFO:ekorpkit.info.stat:Calculating statistics for split: train
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>----------------------------------------------------------------------------------------------------

text: 
[미래에셋증권 엠클럽 집계]
미래에셋증권에서 거래하는 고수익 투자자들이 7일 오전 가장 많이 사고 판 종목은 일동제약(249420)으로 집계됐다. 이외 에스디바이오센서(137310), LG에너지솔루션(373220), LG이노텍(011070), 팜스빌에도 매수세가 몰렸다.


이날 미래에셋엠클럽에 따르면 미래에셋증권 주식 거래 고객 중 최근 1개월 간 투자 수익률 상위 1%에 해당하는 &#39;주식 초고수&#39;들이 오전 11시까지 가장 많이 사들인 종목은 일동제약이었다.


일동제약은 이날 래피젠과 신속항원검사 키트인 &#39;바이오크레딧 코비드-19 Ag&#39;에 대한 공급 계약을 체결했다는 소식에 급등하고 있다. 이번 계약에 따라 일동제약은 바이오크레딧 코비드-19 Ag의 병·의원 유통을 담당하게 된다. 양사는 약국에서 구매할 수 있는 자가검사 키트 유통에 대해서도 추가 논의를 진행 중이다.?바이오크레딧 코비드-19 Ag는 래피젠이 개발한 전문가용 코로나 항원검사키트로, 피검사자 비인두 도말 검체에서 SARS-CoV-2항원을 면역크로마토그래피 방식으로 판별해 코로나19 감염 진단에 도움을 주는 체외 진단 의료기기다.


매수 2위는 에스디바이오센서다 코로나19 진단검사 체계 전환으로 신속항원검사 키트 수요가 급증할 것이라는 전망에 투자자들의 이목을 끌고 있다. 방역 당국은 오미크론 발 검사 수요 급증하자 지난 3일부터 60대 고령자 등 우선 검사 대상자는 PCR(유전자 증폭)검사를 실시하고, 나머지는 개인용 자가검사키트를 활용해 신속항원검사를 우선 실시하는 새 검사 체계를 도입했다.


3위는 LG에너지솔루션이다. LG에너지솔루션은 미국 최대 자동차 기업이 제너럴모터스(GM)가 배터리 합작 4공장을 짓는다는 보도가 나오면서 투자심리를 북돋고 있는 것으로 풀이된다. 지난 1일(현지시각) 메리 바라 GM 회장은 4분기 실적 컨퍼런스 콜에서 &quot;올해 상반기 중 네 번째 배터리 합작공장 위치를 발표할 예정&quot;이라며 &quot;LG와 협력을 지속하면서 조만간 4공장 계획을 발표하겠다&quot;고 말했다.


이...

----------------------------------------------------------------------------------------------------
text: 
코스피가 미국 연방준비제도(Fed·연준)의 금리인상 및 양적긴축에 대한 매파적 기조를 다시 한 번 확인하면서 약세 전환했다.


6일 오전 10시 50분 기준 코스피 지수는 전 거래일보다 20.31포인트(0.74%) 내린 2738.89를 나타내고 있다. 이날 코스피는 전일 대비 20.13포인트(0.73%) 내린 2739.07에 출발해 2730~2740선을 답보하고 있다.


유가증권시장에선 개인이 홀로 4829억 원을 순매수하고 있다. 반면 외국인과 기관은 2171억 원, 2653억 원을 팔며 지수 하방 압력을 가하고 있다.


전날 미 연준 인사들의 매파적 발언이 이어지면서 금리 인상에 대한 경계심이 재확산되고 있는 것으로 분석된다. 전날 성장주들을 중심으로 차익실현 매물이 쏟아지며 나스닥 지수가 급락한 점 역시 국내 증시 하락세에 영향을 미친 것으로 보인다. 이날 한지영 키움증권 연구원은 &quot;국내 증시가 미국 증시에 비해 3월 중순 주가 복원력이 크지 않았던 만큼, 전반적인 지수 하방 압력은 제한된 채 인플레이션, 금리, 중국 등 개별 이슈에 따른 차별화된 장세를 보일 것&quot;이라고 분석했다.


코스피 시가총액 상위 10위권은 대부분이 약세를 기록하고 있다. LG에너지솔루션(373220)(-1.67%), SK하이닉스(000660)(-2.58%), 삼성전자(005930)(-0.72%)의 낙폭이 비교적 크다.


같은 시각 코스닥 지수는 전일 대비 7.72포인트(0.81%) 내린 947.5를 기록 중이다. 이날 코스닥 시장에서도 개인이 1468억 원을 사들인 한편 외국인과 기관은 각각 594억 원, 823억 원을 순매도하고 있다.


전날 뉴욕 증시에선 3대 지수가 모두 하락 마감했다. 다우존스30산업평균지수는 전 거래일보다 280.70포인트(0.80%) 하락한 3만 4641.18에 거래를 마쳤다. 스탠더드앤드푸어스(S&amp;P)500지수는 57.52포인트(1.26%) 빠진 4525.12에, 기술주 중심의 나스닥 지수는 328.39포인트(2.26%) 내린 1만 4204...

----------------------------------------------------------------------------------------------------
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "4b6cc49ccabd4981828dcaacd8bb5f0c", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "09d4bcffd9414e66ac548564f2934fea", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "af012e6030c04566891646e1bf5a2a0f", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "f1cad13a6eec41d1be5cd7c376ca53a3", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "4e26e5e0a8344b23862c4e61ad027cb7", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.info.stat: &gt;&gt; elapsed time to calculate statistics: 0:00:00.175656
INFO:ekorpkit.info.stat:Saving updated info file: ../data/bigkinds/info-bigkinds.yaml
INFO:ekorpkit.corpora.build:
Corpus [bigkinds] is built to [../data/bigkinds] from [/workspace/.cache/gdown/.16PlTKZzsLATYkoej9NrT7U5RdRR3km0c/LGENSOL]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;category&#39;: &#39;formal&#39;,
 &#39;column_info&#39;: {&#39;columns&#39;: {&#39;id&#39;: &#39;id&#39;,
                             &#39;merge_meta_on&#39;: None,
                             &#39;text&#39;: &#39;text&#39;,
                             &#39;timestamp&#39;: None},
                 &#39;data&#39;: {&#39;id&#39;: &#39;int&#39;, &#39;text&#39;: &#39;str&#39;},
                 &#39;datetime&#39;: {&#39;_parms_&#39;: None, &#39;format&#39;: None, &#39;key&#39;: None},
                 &#39;keys&#39;: {&#39;id&#39;: &#39;id&#39;,
                          &#39;split&#39;: &#39;split&#39;,
                          &#39;text&#39;: &#39;text&#39;,
                          &#39;timestamp&#39;: &#39;timestamp&#39;},
                 &#39;meta&#39;: {&#39;category&#39;: &#39;str&#39;,
                          &#39;code&#39;: &#39;str&#39;,
                          &#39;date&#39;: &#39;str&#39;,
                          &#39;filename&#39;: &#39;str&#39;,
                          &#39;id&#39;: &#39;int&#39;},
                 &#39;segment_separator&#39;: &#39;\\n\\n&#39;,
                 &#39;sentence_separator&#39;: &#39;\\n&#39;,
                 &#39;timestamp&#39;: {&#39;_parms_&#39;: None, &#39;format&#39;: None, &#39;key&#39;: None}},
 &#39;data_files&#39;: {&#39;train&#39;: &#39;bigkinds-train.parquet&#39;},
 &#39;data_files_modified&#39;: &#39;2022-05-31 08:42:17&#39;,
 &#39;description&#39;: &#39;Korean News Dataset from Big Kinds&#39;,
 &#39;fullname&#39;: &#39;Korean News Dataset from Big Kinds&#39;,
 &#39;homepage&#39;: &#39;https://www.bigkinds.or.kr&#39;,
 &#39;info_updated&#39;: &#39;2022-05-31 08:42:18&#39;,
 &#39;lang&#39;: &#39;ko&#39;,
 &#39;meta_files&#39;: {&#39;train&#39;: &#39;meta-bigkinds-train.parquet&#39;},
 &#39;meta_files_modified&#39;: &#39;2022-05-31 08:42:16&#39;,
 &#39;name&#39;: &#39;bigkinds&#39;,
 &#39;num_bytes_before_processing&#39;: 592303,
 &#39;num_docs&#39;: 233,
 &#39;num_docs_before_processing&#39;: 233,
 &#39;num_segments&#39;: 1616,
 &#39;num_sents&#39;: 1744,
 &#39;num_words&#39;: 53034,
 &#39;size_in_bytes&#39;: 590180,
 &#39;size_in_human_bytes&#39;: &#39;576.35 KiB&#39;,
 &#39;splits&#39;: {&#39;train&#39;: {&#39;data_file&#39;: &#39;bigkinds-train.parquet&#39;,
                      &#39;dataset_name&#39;: &#39;bigkinds&#39;,
                      &#39;human_bytes&#39;: &#39;576.35 KiB&#39;,
                      &#39;human_bytes_wospc&#39;: &#39;521.73 KiB&#39;,
                      &#39;meta_file&#39;: &#39;meta-bigkinds-train.parquet&#39;,
                      &#39;name&#39;: &#39;train&#39;,
                      &#39;num_bytes&#39;: 590180,
                      &#39;num_bytes_before_processing&#39;: 592303,
                      &#39;num_bytes_max&#39;: 6813,
                      &#39;num_bytes_median&#39;: 2405.0,
                      &#39;num_bytes_min&#39;: 310,
                      &#39;num_bytes_wospc&#39;: 534252,
                      &#39;num_docs&#39;: 233,
                      &#39;num_docs_before_processing&#39;: 233,
                      &#39;num_segments&#39;: 1616,
                      &#39;num_segments_median&#39;: 7.0,
                      &#39;num_sents&#39;: 1744,
                      &#39;num_sents_median&#39;: 7.0,
                      &#39;num_words&#39;: 53034,
                      &#39;num_words_max&#39;: 646,
                      &#39;num_words_median&#39;: 214.0,
                      &#39;num_words_min&#39;: 11}},
 &#39;version&#39;: &#39;1.0.0&#39;}
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ekorpkit.corpora.build.DatasetBuilder at 0x7f7387b11040&gt;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="load-a-corpus">
<h2>Load a corpus<a class="headerlink" href="#load-a-corpus" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corpus_cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">config_group</span><span class="o">=</span><span class="s1">&#39;corpus&#39;</span><span class="p">)</span>
<span class="n">corpus_cfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;bigkinds&#39;</span>
<span class="n">corpus_cfg</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="s1">&#39;../data&#39;</span>
<span class="n">bigkinds</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">corpus_cfg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.io.file:Processing [1] files from [[&#39;bigkinds-train.parquet&#39;]]
INFO:ekorpkit.io.file:Loading data from ../data/bigkinds/bigkinds-train.parquet
INFO:ekorpkit.io.file:Processing [1] files from [[&#39;meta-bigkinds-train.parquet&#39;]]
INFO:ekorpkit.io.file:Loading data from ../data/bigkinds/meta-bigkinds-train.parquet
INFO:ekorpkit.info.column:No timestamp key found
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bigkinds</span><span class="o">.</span><span class="n">metadata</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>code</th>
      <th>category</th>
      <th>filename</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>2022-03-28 09:22:19</td>
      <td>02100201</td>
      <td>경제&gt;증권_증시 | IT_과학&gt;IT_과학일반</td>
      <td>02100201.20220328092219001.txt</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>2022-01-26 17:21:42</td>
      <td>02100311</td>
      <td>경제&gt;증권_증시 | 지역&gt;경남 | 지역&gt;전남</td>
      <td>02100311.20220126172142001.txt</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>2022-01-27 09:10:53</td>
      <td>02100311</td>
      <td>경제&gt;자원 | 경제&gt;증권_증시 | IT_과학&gt;과학</td>
      <td>02100311.20220127091053001.txt</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>2022-01-27 09:10:55</td>
      <td>02100311</td>
      <td>경제&gt;증권_증시 | 경제&gt;금융_재테크 | 경제&gt;자원</td>
      <td>02100311.20220127091055001.txt</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>2022-01-27 09:12:39</td>
      <td>02100311</td>
      <td>IT_과학&gt;과학 | 경제&gt;유통 | 경제&gt;증권_증시</td>
      <td>02100311.20220127091239001.txt</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>228</th>
      <td>228</td>
      <td>2022-05-23 14:23:23</td>
      <td>02100311</td>
      <td>경제&gt;증권_증시 | 경제&gt;외환 | 경제&gt;유통</td>
      <td>02100311.20220523142323001.txt</td>
    </tr>
    <tr>
      <th>229</th>
      <td>229</td>
      <td>2022-05-23 16:38:10</td>
      <td>02100311</td>
      <td>경제&gt;증권_증시 | 경제&gt;외환</td>
      <td>02100311.20220523163810001.txt</td>
    </tr>
    <tr>
      <th>230</th>
      <td>230</td>
      <td>2022-05-24 06:31:26</td>
      <td>02100311</td>
      <td>경제&gt;증권_증시 | 경제&gt;금융_재테크 | 경제&gt;부동산</td>
      <td>02100311.20220524063126001.txt</td>
    </tr>
    <tr>
      <th>231</th>
      <td>231</td>
      <td>2022-05-24 09:15:50</td>
      <td>02100311</td>
      <td>경제&gt;자동차 | IT_과학&gt;모바일 | IT_과학&gt;과학</td>
      <td>02100311.20220524091550002.txt</td>
    </tr>
    <tr>
      <th>232</th>
      <td>232</td>
      <td>2022-05-24 18:07:17</td>
      <td>02100311</td>
      <td>경제&gt;반도체 | 경제&gt;산업_기업 | 경제&gt;자동차</td>
      <td>02100311.20220524180717001.txt</td>
    </tr>
  </tbody>
</table>
<p>233 rows × 5 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">config_group</span><span class="o">=</span><span class="s2">&quot;pipeline&quot;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">corpus</span> <span class="o">=</span> <span class="n">corpus_cfg</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">_pipeline_</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;chunk&quot;</span><span class="p">,</span> <span class="s2">&quot;explode_splits&quot;</span><span class="p">,</span><span class="s2">&quot;reset_index&quot;</span><span class="p">,</span> <span class="s2">&quot;save_dataframe&quot;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">chunk</span><span class="o">.</span><span class="n">chunk_size</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">explode_splits</span><span class="o">.</span><span class="n">id_key</span> <span class="o">=</span> <span class="s2">&quot;id&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">explode_splits</span><span class="o">.</span><span class="n">split_key</span> <span class="o">=</span> <span class="s2">&quot;chunk_id&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">explode_splits</span><span class="o">.</span><span class="n">separator</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">reset_index</span><span class="o">.</span><span class="n">drop_index</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">save_dataframe</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="s1">&#39;../data/bigkinds&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">save_dataframe</span><span class="o">.</span><span class="n">output_file</span> <span class="o">=</span> <span class="s1">&#39;bigkinds_chunks.parquet&#39;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.io.file:Processing [1] files from [[&#39;bigkinds-train.parquet&#39;]]
INFO:ekorpkit.io.file:Loading data from ../data/bigkinds/bigkinds-train.parquet
INFO:ekorpkit.io.file:Processing [1] files from [[&#39;meta-bigkinds-train.parquet&#39;]]
INFO:ekorpkit.io.file:Loading data from ../data/bigkinds/meta-bigkinds-train.parquet
INFO:ekorpkit.info.base:No timestamp key found
INFO:ekorpkit.ekonf:Skipping execute of functools.partial(&lt;function concat_dataframes at 0x7f8fd8c53dc0&gt;)
INFO:ekorpkit.pipelines.pipe:Applying pipeline: OrderedDict([(&#39;chunk&#39;, &#39;chunk&#39;), (&#39;explode_splits&#39;, &#39;explode_splits&#39;), (&#39;reset_index&#39;, &#39;reset_index&#39;), (&#39;save_dataframe&#39;, &#39;save_dataframe&#39;)])
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function chunk at 0x7f8fd8c44160&gt;)
INFO:ekorpkit.pipelines.pipe:instantiating segmenter
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "d356cbc665fa440e812d3a2042c08258", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.pipelines.pipe: &gt;&gt; elapsed time to segment: 0:00:00.029434
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function explode_splits at 0x7f8fd8892c10&gt;)
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function reset_index at 0x7f8fd8892d30&gt;)
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function save_dataframe at 0x7f8fd8c44940&gt;)
INFO:ekorpkit.io.file:Saving dataframe as ../data/bigkinds/bigkinds_chunks.parquet
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>text</th>
      <th>chunk_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>[머니투데이 이상수 MTN PD]\n▶▶▶ 오늘 증시 MBTI\n이재상 어드바이저 ...</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>- 북미 대규모 배터리 투자...총 6.5조 원 투입\n▶ 이달해 어드바이저\n에이...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>&lt;유가증권&gt;\n▲신주배정기준일=대한전선(001440)(유상) ▲보통주추가상장=크래프...</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>사상 최대 규모의 기업공개(IPO) '초대어' LG에너지솔루션(373220)이 코스...</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>이날 장전 거래에서 시초가가 공모가의 2배인 60만 원에 형성되는가 했지만, 장 개...</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1196</th>
      <td>232</td>
      <td>탄탄한 기술력을 바탕으로 일진머티리얼즈는 국내에서 삼성전자(005930)를 비롯해 ...</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1197</th>
      <td>232</td>
      <td>일진머티리얼즈가 기술력과 성장성을 겸비한 유망 기업으로 평가되면서 국내 최대 기관투...</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1198</th>
      <td>232</td>
      <td>일진머티리얼즈 인수 후보 기업 중에는 롯데의 의지가 상대적으로 강하다는 관측이 나온...</td>
      <td>5</td>
    </tr>
    <tr>
      <th>1199</th>
      <td>232</td>
      <td>일진그룹이 미래 성장 동력으로 키워온 계열사를 전격 매각하기로 한 배경을 놓고는 다...</td>
      <td>6</td>
    </tr>
    <tr>
      <th>1200</th>
      <td>232</td>
      <td>아울러 글로벌 경쟁이 치열한 전기차 배터리 관련 사업에서 지속적 투자 부담이 허 대...</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
<p>1201 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">text</span><span class="p">[</span><span class="mi">222</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;매수 2위는 도시가스 업체인 지에스이(053050)다. 이날 지에스이는 장중 한때 상한가를 기록하는 등 급등세를 보였다. 러시아가 우크라이나를 침공할 가능성이 높다는 전망이 제기되면서 천연가스 관련주가 일제히 올랐기 때문이다. 특히 러시아는 천연가스·원유 주요 산유국이라 &#39;우크라이나 사태&#39;가 이들 관련주에 끼치는 영향이 큰 상황이다.&quot;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="predicting-polarities">
<h2>Predicting polarities<a class="headerlink" href="#predicting-polarities" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">overrides</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;+model/transformer=simple_classification&#39;</span><span class="p">,</span>
    <span class="s1">&#39;+model/transformer/pretrained=ekonelectra-base&#39;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">model_cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">overrides</span><span class="o">=</span><span class="n">overrides</span><span class="p">,</span> <span class="n">config_group</span><span class="o">=</span><span class="s1">&#39;model/transformer=simple_classification&#39;</span><span class="p">)</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;esg_polarity&quot;</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">num_train_epochs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">max_seq_length</span> <span class="o">=</span> <span class="mi">256</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">train_batch_size</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">eval_batch_size</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;positive&#39;</span><span class="p">,</span><span class="s1">&#39;neutral&#39;</span><span class="p">,</span><span class="s1">&#39;negative&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">config_group</span><span class="o">=</span><span class="s1">&#39;pipeline&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;esg_polarities&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="s1">&#39;../data/bigkinds&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data_file</span> <span class="o">=</span> <span class="s1">&#39;bigkinds_chunks.parquet&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">_pipeline_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;predict&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model_cfg</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="s2">&quot;./data/predict&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">output_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">cfg</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">-preds.csv&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">num_workers</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.ekonf:Executing function functools.partial(&lt;function load_dataframe at 0x7fba45e97550&gt;) with parms {&#39;filepath&#39;: &#39;../data/bigkinds/bigkinds_chunks.parquet&#39;, &#39;columns&#39;: None, &#39;verbose&#39;: False}
INFO:ekorpkit.io.file:Loading data from ../data/bigkinds/bigkinds_chunks.parquet
INFO:ekorpkit.ekonf:Skipping execute of functools.partial(&lt;function concat_dataframes at 0x7fba45e97310&gt;)
INFO:ekorpkit.pipelines.pipe:Applying pipeline: OrderedDict([(&#39;predict&#39;, &#39;predict&#39;)])
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function predict at 0x7fba45e10ee0&gt;)
INFO:ekorpkit.pipelines.pipe:instantiating model
INFO:ekorpkit.ekonf:No method defined to call
INFO:ekorpkit.models.transformer.simple:Loaded model from /workspace/projects/esgml/outputs/esgml-esg_polarity/ekonelectra-base/best_model
INFO:simpletransformers.classification.classification_model: Converting to features started. Cache is not used.
INFO:simpletransformers.classification.classification_model: Sliding window enabled
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "fa3732c5447d4a108fef8393790f1535", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:simpletransformers.classification.classification_model: 1201 features created from 1201 samples.
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "40a2930dd3104131b3379260820044c5", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.models.transformer.simple:type of raw_outputs: &lt;class &#39;list&#39;&gt;
INFO:ekorpkit.models.transformer.simple:raw_output: [1.7664241790771484, -2.7272276878356934, 0.864201545715332]
INFO:ekorpkit.io.file:Saving dataframe as ./data/predict/esg_polarities-preds.csv
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>text</th>
      <th>chunk_id</th>
      <th>pred_labels</th>
      <th>raw_preds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>[머니투데이 이상수 MTN PD]\n▶▶▶ 오늘 증시 MBTI\n이재상 어드바이저 ...</td>
      <td>0</td>
      <td>neutral</td>
      <td>[1.7664241790771484, -2.7272276878356934, 0.86...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>- 북미 대규모 배터리 투자...총 6.5조 원 투입\n▶ 이달해 어드바이저\n에이...</td>
      <td>1</td>
      <td>neutral</td>
      <td>[1.413273572921753, -2.801103115081787, 1.3196...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>&lt;유가증권&gt;\n▲신주배정기준일=대한전선(001440)(유상) ▲보통주추가상장=크래프...</td>
      <td>0</td>
      <td>neutral</td>
      <td>[2.208777904510498, -1.1333577632904053, -1.39...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>사상 최대 규모의 기업공개(IPO) '초대어' LG에너지솔루션(373220)이 코스...</td>
      <td>0</td>
      <td>negative</td>
      <td>[0.22100260853767395, 1.2145133018493652, -1.4...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>이날 장전 거래에서 시초가가 공모가의 2배인 60만 원에 형성되는가 했지만, 장 개...</td>
      <td>1</td>
      <td>neutral</td>
      <td>[0.3159239888191223, 0.061452917754650116, -0....</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s2">&quot;esg_polarities-preds.xlsx&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="predicting-categories">
<h2>Predicting categories<a class="headerlink" href="#predicting-categories" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">overrides</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;+model/transformer=simple_classification&#39;</span><span class="p">,</span>
    <span class="s1">&#39;+model/transformer/pretrained=ekonelectra-base&#39;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">model_cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">overrides</span><span class="o">=</span><span class="n">overrides</span><span class="p">,</span> <span class="n">config_group</span><span class="o">=</span><span class="s1">&#39;model/transformer=simple_classification&#39;</span><span class="p">)</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;esg_topics&quot;</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">num_train_epochs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">max_seq_length</span> <span class="o">=</span> <span class="mi">256</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">train_batch_size</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">model_cfg</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">eval_batch_size</span> <span class="o">=</span> <span class="mi">32</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cfg</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">config_group</span><span class="o">=</span><span class="s1">&#39;pipeline&#39;</span><span class="p">)</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;esg_categories&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data_dir</span> <span class="o">=</span> <span class="s1">&#39;../data/bigkinds&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">data_file</span> <span class="o">=</span> <span class="s1">&#39;bigkinds_chunks.parquet&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">_pipeline_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;predict&#39;</span><span class="p">]</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model_cfg</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="s2">&quot;./data/predict&quot;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">output_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">cfg</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">-preds.csv&#39;</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">num_workers</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">eKonf</span><span class="o">.</span><span class="n">instantiate</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.ekonf:Executing function functools.partial(&lt;function load_dataframe at 0x7fba45e97550&gt;) with parms {&#39;filepath&#39;: &#39;../data/bigkinds/bigkinds_chunks.parquet&#39;, &#39;columns&#39;: None, &#39;verbose&#39;: False}
INFO:ekorpkit.io.file:Loading data from ../data/bigkinds/bigkinds_chunks.parquet
INFO:ekorpkit.ekonf:Skipping execute of functools.partial(&lt;function concat_dataframes at 0x7fba45e97310&gt;)
INFO:ekorpkit.pipelines.pipe:Applying pipeline: OrderedDict([(&#39;predict&#39;, &#39;predict&#39;)])
INFO:ekorpkit.ekonf:Applying pipe: functools.partial(&lt;function predict at 0x7fba45e10ee0&gt;)
INFO:ekorpkit.pipelines.pipe:instantiating model
INFO:ekorpkit.ekonf:No method defined to call
INFO:ekorpkit.models.transformer.simple:Loaded model from /workspace/projects/esgml/outputs/esgml-esg_topics/ekonelectra-base/best_model
INFO:simpletransformers.classification.classification_model: Converting to features started. Cache is not used.
INFO:simpletransformers.classification.classification_model: Sliding window enabled
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "d551dfc94871453d9d72fa42d7ba5557", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:simpletransformers.classification.classification_model: 1201 features created from 1201 samples.
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "482c6e8a78574e7685d401f4b670ffd3", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INFO:ekorpkit.models.transformer.simple:type of raw_outputs: &lt;class &#39;list&#39;&gt;
INFO:ekorpkit.models.transformer.simple:raw_output: [-0.41563311219215393, 1.0739761590957642, -0.9921706318855286, 3.773885488510132, 2.3257620334625244, -1.214221715927124, -1.4004017114639282, 2.401806116104126, -0.5396719574928284, -0.6043699979782104, -0.43679967522621155, -2.2757036685943604, -0.05470063537359238, 0.8972206115722656, -1.860360026359558, -1.7987903356552124]
INFO:ekorpkit.io.file:Saving dataframe as ./data/predict/esg_categories-preds.csv
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>text</th>
      <th>chunk_id</th>
      <th>pred_labels</th>
      <th>raw_preds</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>[머니투데이 이상수 MTN PD]\n▶▶▶ 오늘 증시 MBTI\n이재상 어드바이저 ...</td>
      <td>0</td>
      <td>G-주주환원</td>
      <td>[-0.41563311219215393, 1.0739761590957642, -0....</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>- 북미 대규모 배터리 투자...총 6.5조 원 투입\n▶ 이달해 어드바이저\n에이...</td>
      <td>1</td>
      <td>G-주주환원</td>
      <td>[-0.5730087161064148, -0.26970621943473816, -1...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>&lt;유가증권&gt;\n▲신주배정기준일=대한전선(001440)(유상) ▲보통주추가상장=크래프...</td>
      <td>0</td>
      <td>G-주주환원</td>
      <td>[-0.6350004076957703, 2.749204158782959, -0.07...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>사상 최대 규모의 기업공개(IPO) '초대어' LG에너지솔루션(373220)이 코스...</td>
      <td>0</td>
      <td>G-주주환원</td>
      <td>[-0.6237360835075378, 1.4131180047988892, -0.7...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2</td>
      <td>이날 장전 거래에서 시초가가 공모가의 2배인 60만 원에 형성되는가 했지만, 장 개...</td>
      <td>1</td>
      <td>G-주주환원</td>
      <td>[-0.6814305186271667, 0.9492658972740173, -0.7...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s2">&quot;esg_categories-preds.xlsx&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./docs/usecases/esg"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="classifiers.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Training Classifiers for ESG Ratings</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../research/esg_topics/analyst.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">ESG Topic Analysis</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Young Joon Lee<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>